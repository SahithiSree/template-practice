(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[48719,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,i=t+100;return e.f.style.width=i+"px",e.c.scrollLeft=i,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,i){function n(){var e=a;o(e)&&e.a.parentNode&&i(e.g)}var a=e;t(e.b,n),t(e.c,n),o(e)}function s(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var r=null,l=null,d=null,c=null;function _(){return null===c&&(c=!!document.fonts),c}function u(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}d=""!==e.style.font}return d}function p(e,t){return[e.style,e.weight,u()?e.stretch:"","100px",t].join(" ")}s.prototype.load=function(e,t){var o=this,s=e||"BESbswy",d=0,c=t||3e3,u=(new Date).getTime();return new Promise((function(e,t){if(_()&&!function(){if(null===l)if(_()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var h=new Promise((function(e,t){!function i(){(new Date).getTime()-u>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(p(o,'"'+o.family+'"'),s).then((function(t){1<=t.length?e():setTimeout(i,25)}),t)}()})),E=new Promise((function(e,t){d=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([E,h]).then((function(){clearTimeout(d),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=m&&-1!=I||-1!=m&&-1!=P||-1!=I&&-1!=P)&&((t=m!=I&&m!=P&&I!=P)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=r&&(m==f&&I==f&&P==f||m==T&&I==T&&P==T||m==g&&I==g&&P==g)),t=!t),t&&(A.parentNode&&A.parentNode.removeChild(A),clearTimeout(d),e(o))}var _=new i(s),h=new i(s),E=new i(s),m=-1,I=-1,P=-1,f=-1,T=-1,g=-1,A=document.createElement("div");A.dir="ltr",n(_,p(o,"sans-serif")),n(h,p(o,"serif")),n(E,p(o,"monospace")),A.appendChild(_.a),A.appendChild(h.a),A.appendChild(E.a),document.body.appendChild(A),f=_.a.offsetWidth,T=h.a.offsetWidth,g=E.a.offsetWidth,function e(){if((new Date).getTime()-u>=c)A.parentNode&&A.parentNode.removeChild(A),t(Error(c+"ms timeout exceeded"));else{var i=document.hidden;!0!==i&&void 0!==i||(m=_.a.offsetWidth,I=h.a.offsetWidth,P=E.a.offsetWidth,l()),d=setTimeout(e,50)}}(),a(_,(function(e){m=e,l()})),n(_,p(o,'"'+o.family+'",sans-serif')),a(h,(function(e){I=e,l()})),n(h,p(o,'"'+o.family+'",serif')),a(E,(function(e){P=e,l()})),n(E,p(o,'"'+o.family+'",monospace'))}))}))},e.exports=s}()},554290:(e,t,i)=>{var n=i(406557);e.exports=function(e){return"function"==typeof e?e:n}},385564:(e,t,i)=>{var n=i(121078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},498913:(e,t,i)=>{var n=i(422545),o=i(554290),a=i(640554),s=4294967295,r=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var i=s,l=r(e,s);t=o(t),e-=s;for(var d=n(l,t);++i<e;)t(i);return d}},225643:e=>{e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55,SHIPPING_WIDTH:56,SHIPPING_HEIGHT:57,LENGTH_UNIT:58,DESCRIPTION_HTML:59,CHECKOUT_ENABLED:60},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},LengthUnitType:{IN:1,FT:2,MM:3,CM:4,M:5,KM:6},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{ONBOARDING:0,DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5,API:6},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},FeedSourceType:{CATALOGS_FEED:1,UNIVERSAL_FEED:2},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,NO_VIOLATION:25,MISCELLANEOUS:26,INACTIVE_FEED:33,AUTOREJECT:61,MARKETPLACE_SECOND_HAND:34,MARKETPLACE_AFFILIATES:35,MARKETPLACE_WHOLESALE:36,BROKEN_404:37,BROKEN_REGISTRATION:38,INCOMPLETE_WEBSITE_TEMPLATE:39,INCOMPLETE_PRODUCT_CATEGORIES:40,INCOMPLETE_BROKEN_SHOPPING_CART:41,LONG_SHIPPING_TIME:42,AUTHENTICITY_PLAGIARIZED_ABOUT:43,AUTHENTICITY_NO_SOCIALS_OR_ABOUT:44,AUTHENTICITY_NO_CONTACT_INFORMATION:45,AUTHENTICITY_PAYPAL_VERIFIED_LOGO:46,IMAGE_QUALITY_BLURRY_IMAGES:47,IMAGE_QUALITY_STOCK_PHOTOS:48,INAUTHENTIC_PHOTOS_EMPTY_OR_BROKEN_PHOTOS:49,INAUTHENTIC_PHOTOS_IMAGE_NOT_OF_PRODUCT:50,WATCHLIST_DROPSHIPPER:51,WATCHLIST_TRAFFIC_50_TO_69:52,WATCHLIST_TRAFFIC_70_TO_89:53,WATCHLIST_TRAFFIC_90_TO_100:54,PRODUCTS_GENERIC_PRODUCT_DESCRIPTION_OR_MISMATCH:55,PRODUCTS_NO_PRODUCT_CATEGORIES:56,RETURNS_MISMATCH:57,PINTEREST_TRAFFIC_71_TO_100:58,SCAMADVISER_SCORE_1_TO_80:59,BROKEN_SOCIAL_MEDIA:60,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32,BROKEN_URL:5,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,IMAGE_QUALITY:18,INAUTHENTIC_PHOTOS:24,DOMAIN_TOOLS_SCORE:27},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,ITEM_NOT_FOUND:98,ITEM_ALREADY_EXISTS:99,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,ADULT_FLAGGED:171,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,IMAGE_DOWNLOAD_HTTP_STATUS_400:1200,IMAGE_DOWNLOAD_HTTP_STATUS_403:1201,IMAGE_DOWNLOAD_HTTP_STATUS_404:1202,IMAGE_DOWNLOAD_HTTP_STATUS_405:1203,IMAGE_DOWNLOAD_HTTP_STATUS_410:1204,IMAGE_DOWNLOAD_HTTP_STATUS_429:1205,IMAGE_DOWNLOAD_HTTP_STATUS_500:1206,IMAGE_DOWNLOAD_HTTP_STATUS_502:1207,IMAGE_DOWNLOAD_HTTP_STATUS_503:1208,IMAGE_DOWNLOAD_HTTP_STATUS_504:1209,IMAGE_DOWNLOAD_HTTP_STATUS_507:1210,IMAGE_DOWNLOAD_HTTP_STATUS_508:1211,IMAGE_DOWNLOAD_HTTP_STATUS_520:1213,IMAGE_DOWNLOAD_HTTP_STATUS_521:1214,IMAGE_DOWNLOAD_HTTP_STATUS_522:1215,IMAGE_DOWNLOAD_HTTP_STATUS_525:1216,IMAGE_DOWNLOAD_SITE_TIMEOUT:1300,IMAGE_DOWNLOAD_CONTENT_READ_ERROR:1301,IMAGE_DOWNLOAD_SITE_ERROR:1302,IMAGE_DOWNLOAD_SSL_ERROR:1303,IMAGE_DOWNLOAD_SSL_HANDSHAKE_ERROR:1304,IMAGE_DOWNLOAD_DNS_LOOKUP_ERROR:1305,IMAGE_PROCESSING_HEIGHT_TOO_SMALL:1400,IMAGE_PROCESSING_WIDTH_TOO_SMALL:1401,IMAGE_PROCESSING_TOO_MANY_PIXELS:1402,IMAGE_PROCESSING_TYPE_MISMATCH:1403,IMAGE_PROCESSING_EMPTY_FILE:1404,IMAGE_DOWNLOAD_JOB_NOT_FOUND:1500,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,SHOPIFY_NUMBER_OF_COLLECTIONS:4104,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,FIELD_IS_EQUAL_TO_PREVIOUS_VALUE:5e3,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},890473:(e,t,i)=>{i.d(t,{GT:()=>E,Gy:()=>l,Kl:()=>P,QY:()=>h,RR:()=>c,SP:()=>u,Sn:()=>I,Uz:()=>p,Zs:()=>m,i8:()=>d,nn:()=>r,qN:()=>_});var n=i(227361),o=i.n(n),a=i(834911),s=i(229428);const r=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var t,i;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(i=e.rich_metadata)||void 0===i?void 0:i.products)&&void 0!==t?t:[]).length>0},d=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},c=e=>{var t,i;return null===(t=e.rich_summary)||void 0===t||null===(i=t.aggregate_rating)||void 0===i?void 0:i.rating_value},_=e=>e.is_oos_product,u=e=>e.is_stale_product,p=e=>_(e)||u(e),h=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const i=o()(e,"rich_summary.site_name");if(i)return i;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const n=o()(e,"via_pinner.full_name");return e.is_repin&&n?n:void 0},E=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function m(e,t={}){var i,n,o,r,l,d;const c=E(e),_={...t.commerce_data};c.includes(2)&&(_.pin_is_shop_the_look=!0),c.includes(1)&&(_.is_available=!0),c.includes(5)&&(_.is_product_pin_v2=!0),c.includes(6)&&(_.is_rich_product_pin=!0),c.includes(10)&&(_.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,s.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(_.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?_.pin_show_pdp_oos=!0:e.is_stale_product?_.pin_show_pdp_stale=!0:_.pin_show_pdp=!0;const t=(0,a.Z)({pin:e});var u;if(t)_.image_count=null===(u=t.carousel_slots)||void 0===u?void 0:u.length,_.image_index=t.index}null!=e&&null!==(i=e.rich_summary)&&void 0!==i&&null!==(n=i.products)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.item_id&&(_.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(r=e.rich_summary)&&void 0!==r&&null!==(l=r.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(_.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(_.pin_is_shop_the_look=!0),e.story_pin_data&&(_.story_pin_id=e.story_pin_data.id),_}function I(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const P=(e,t={})=>{if(e){return I(m(e,t))}return null}},631286:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(537347),o=i.n(n),a=i(172071);function s(e){if("undefined"==typeof window||!document.head)return a.Z.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));const t=document.head,i=[];return e.forEach((e=>{e.styles.forEach((n=>{var a;let s=document.querySelector(`#${null!==(a=e.fontFamily)&&void 0!==a?a:""}-${n.name}`);if(!s){var r;if(s=document.createElement("style"),s.setAttribute("id",`${null!==(r=e.fontFamily)&&void 0!==r?r:""}-${n.name}`),t.appendChild(s),e.format&&n.fontUrl&&s&&s.sheet){var l;s.sheet.insertRule(`\n            @font-face {\n              font-family: "${null!==(l=e.fontFamily)&&void 0!==l?l:""}";\n              font-style: "${n.fontStyle}";\n              font-weight: "${n.fontWeight}";\n              src: url("${n.fontUrl}") format("${e.format}");\n            }\n          `,0)}i.push(new(o())(e.fontFamily,{style:n.fontStyle,weight:n.fontWeight}).load())}}))})),Promise.all(i).then((()=>{Promise.resolve()})).catch((e=>{a.Z.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)}))}},574589:(e,t,i)=>{function n(e){return Boolean(e.promoted_is_removable)}i.d(t,{Z:()=>n})},974166:(e,t,i)=>{i.d(t,{A6:()=>d,BS:()=>r,EC:()=>a,FC:()=>n,_5:()=>l,m9:()=>s,z9:()=>o});const n=424,o=800,a=508,s=424,r=278,l=640,d=508},405669:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(867820);async function o({filename:e,imgSrc:t,imageDownloadSuccessCallback:i,category:o,isUnauth:a,pinId:s,viewParameter:r,viewType:l},d){return"undefined"==typeof window?Promise.resolve():((0,n.My)(`web.${a?"unauth":"auth"}.download.click.${o||"no_category"}`),d({event_type:82,object_id_str:s,view_type:l||3,view_parameter:r||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var n,o;const a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.setAttribute("download",e&&e.replace(".","_")),a.style.display="none",null===(n=document.body)||void 0===n||n.appendChild(a),a.click(),null===(o=document.body)||void 0===o||o.removeChild(a),null==i||i()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},946244:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),o=i(966338),a=i(49491),s=i(898781),r=i(6637);var l=i(883119),d=i(785893);function c({favorited:e,favoriteCount:t,isCloseupButton:i,onFavorite:c,onUnfavorite:_,pinId:u,size:p}){const h=(0,s.ZP)(),E=(0,o.useDispatch)(),[m,I]=(0,n.useState)(!1),[P,f]=(0,n.useState)(e),[T,g]=(0,n.useState)(null!=t?t:0),A=async()=>{var e;f(!P),I(!0),P?(g(T-1),await E((e=u,async t=>{await r.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),_(),I(!1)):(g(T+1),await E(function(e){return async t=>{await r.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),c(),I(!1))},y=T<10?T:h._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==t&&T>0&&(0,d.jsx)(l.xv,{size:"200",weight:"bold",children:y}),(0,d.jsx)(a.Z,{isCloseupButton:i,isDisabled:m,isFavorited:P,onTap:()=>{A()},size:p})]})}},49491:(e,t,i)=>{i.d(t,{W:()=>r,Z:()=>l});var n=i(898781),o=i(883119),a=i(785893);const s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:i,onTap:l,size:d}){const c=(0,n.ZP)();return e?(0,a.jsx)(o.hU,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:i?r:s,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,a.jsx)(o.iP,{disabled:t,onTap:l,children:(0,a.jsx)(o.JO,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:i?r:s,size:d})})}},978698:(e,t,i)=>{function n(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((e=>e.pin_type===t))}i.d(t,{E:()=>o,J:()=>n})},578722:(e,t,i)=>{i.d(t,{H1:()=>d,HW:()=>a,iL:()=>l,pN:()=>r,s_:()=>s});var n=i(19121),o=i(217468);const a=new Date(2022,1,1);function s(){const e=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),t=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled,i=(0,o.tc)("android_ios_web_ip_plays_dark_reads")().anyEnabled;return e||t||i}function r({isOwnPin:e,isStoryPin:t,pinCreationDate:i,surface:s}){const r=(0,n.Z)(),l=(0,o.tc)("web_play_playtime_pin_stats")({dangerouslySkipActivation:!0}).anyEnabled,d="CreatorProfileStoryPinGrid"===s&&t&&i&&i.getTime()>=a.getTime()&&l&&r.isPartner&&e,c=(0,o.aq)("web_ip_plays",!!d).anyEnabled,_=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),u=(0,o.tc)("web_ip_pinner_plays");if("CreatorProfileStoryPinGrid"===s&&t&&i&&i.getTime()>=a.getTime()){if(r.isPartner)return e&&c||!e&&_;if(u().anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:t}){const i=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),n=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(n&&!t||i&&t))}function d({isOwnPin:e,isPartner:t}){const i=(0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).anyEnabled,n=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(i&&t||n&&!t))}},483296:(e,t,i)=>{i.d(t,{G7:()=>h,ZP:()=>u,_E:()=>p,l6:()=>E,rh:()=>_});var n=i(978674),o=i(605028),a=i(66699),s=i(349700),r=i(558329),l=i(883119),d=i(785893);const c=e=>["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function _(e,t,i){var a,s,l;if(!t.isAuth)return!1;const d=(0,r.Nc)(e)||(0,r.o)(e),_=(null===(a=e.board)||void 0===a?void 0:a.privacy)===n.Z.BoardPrivacy.PUBLIC,u=(null===(s=e.board)||void 0===s?void 0:s.privacy)===n.Z.BoardPrivacy.PROTECTED,p=(c(i)&&u||_)&&!e.is_repin&&(null===(l=e.pinner)||void 0===l?void 0:l.id)===t.id,{isStoryPin:h}=(0,o.Z)(e);return d&&(!u||c(i))||t.isPartner&&p||(e=>["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p")))(i)&&h&&p||(0,r.pU)(e)}function u({isVideo:e,isStoryPin:t,i18n:i,showPublicPinStats:n,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:i._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:i._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:t?n?[{align:"start",displayText:i._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:i._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:i._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function p(e,t,i,n){const{isStoryPin:a,isVideo:c}=(0,o.Z)(e),_=(0,r.Nc)(e),u=(0,r.o)(e)&&(a||!_)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),h=(new Date).getTime()-p.getTime(),E=Math.floor(h/36e5),m=u?u["24h_realtime"].is_realtime:null,I=u?u["24h_realtime"].timestamp:null;let P=null;u&&(P=a||c?u.all_time_realtime.timestamp:u["30d_realtime"].timestamp);const f=P!==I,T=e=>(0,s.nk)(i._('Updated {{ lastUpdated }}', 'closeup.partnerModule.lastUpdated', 'Indicates to the user when the stats were last updated'),{lastUpdated:e}).join(""),g={timeframe:"",lastUpdated:""};if(u)if(m){const e=u["24h_realtime"].impression>=(a||c?u.all_time_realtime.impression:u["30d_realtime"].impression);g.timeframe=e?i._('Last 24 hours', 'closeup.partnerModule.lastUpdatedRealtime', 'Stats from the stated duration'):a||c?i._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'):i._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),g.lastUpdated=i._('Real-time estimates', 'closeup.partnerModule.lastUpdatedRealtime', 'Indicates to user that the stats are being updated in real-time')}else if(f||E>48)if(a||c){const e=n(u.all_time_realtime.timestamp);g.timeframe=i._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'),g.lastUpdated=T(e)}else{const e=n(u["30d_realtime"].timestamp);g.timeframe=i._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),g.lastUpdated=T(e)}else{const e=n(u["24h_realtime"].timestamp);g.timeframe=i._('Last 24 hours', 'closeup.partnerModule.lastUpdatedHoursAgo', 'Stats from the stated duration'),g.lastUpdated=T(e)}else g.lastUpdated=i._('Stats are currently unavailable', 'closeup.partnerModule.statsUnavailable', 'Stats status for the pin');return(0,d.jsxs)(l.xu,{alignItems:a||"lg"!==t?"center":void 0,display:a||"lg"!==t?"flex":void 0,children:[(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:g.lastUpdated}),(a||["md","sm"].includes(t))&&!!u&&(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",children:" ・"}),(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:g.timeframe})]})}function h(e,t){return(0,a.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function E(e,t){return(0,a.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},480211:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),o=i(407043),a=i(616320);function s(e,t){const{logContextEvent:i}=(0,o.v)(),{componentType:s,contextLogData:r,viewParameter:l,viewType:d}=(0,a.E)(),{aux_data:c,view_type:_,view_parameter:u,component:p,...h}=null!=t?t:{};return(0,n.useCallback)((()=>{i({event_type:e,view_type:_||d,view_parameter:u||l,component:p||s,...h,aux_data:{...c,...r}})}),[i,c,h,u,_,p,s,r,e,l,d])}},601230:(e,t,i)=>{i.d(t,{X:()=>o,Z:()=>a});var n=i(667294);const o=120;function a(e,t=0,i=o){const[a,s]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)((()=>{if(!e){const e=setTimeout((()=>s("inactive")),i);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>s("active")),t);return()=>{clearTimeout(e)}}s("active")}),[e]),a}},616320:(e,t,i)=>{i.d(t,{B:()=>o,E:()=>a});var n=i(425288);const{Provider:o,useHook:a}=(0,n.Z)("trackingParametersContext")},36296:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(287072),o=i(890473),a=i(730815),s=i(704177),r=i(883119),l=i(217468),d=i(407043),c=i(616320),_=i(785893);function u({sizing:e="default",children:t,collageChipId:i,componentType:u,contextLogData:p,elementType:h,pin:E,viewParameter:m,viewType:I}){const{logContextEvent:P}=(0,d.v)(),f=(0,c.E)(),{group:T}=(0,l.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:g,id:A}=E;let y,S=`/pin/${i||A}/`;if(g){const{carousel_slots:e=[],id:t,index:i=0}=g;S=`/pin/${A}/`,y={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:t,carousel_slot_index:i}}y={...y||{},...(0,o.Kl)(E,p)||{}};const v=(0,n.Z)({href:S,externalData:{auxData:y,pin:E}});return(0,_.jsx)(r.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),(()=>{if(P({event_type:101,component:u||f.componentType,element:h,object_id_str:A,view_type:I||f.viewType,view_parameter:m||f.viewParameter,aux_data:{...p,...(0,o.Kl)(E,p)||{}}}),P({event_type:8948,view_type:I||f.viewType,view_parameter:m||f.viewParameter,component:u||f.componentType,element:h,object_id_str:A,aux_data:{closeup_navigation_type:"click",...p,...(0,o.Kl)(E,p)||{}}}),T){const e=Number(s.y7.getItem(a.J)||0);s.y7.setItem(a.J,e+1)}})(),v({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:S,role:"link",children:t})}},187767:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(36296),o=i(883119),a=i(785893);const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function r({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:i}=e,{pin_tags_chips:r}=i||{},l=r&&r.length>=3?r.slice(0,3):[];return(0,a.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:l.map((i=>{var r,l,d,c;const _=(null===(r=i.images)||void 0===r?void 0:r["750x"])||{},u=(0,a.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=_.height)&&void 0!==l?l:1,naturalWidth:null!==(d=_.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=_.url)&&void 0!==c?c:""});return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,a.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,a.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,a.jsx)(n.Z,{sizing:"fullSize",collageChipId:i.id,pin:e,children:u}):u})})})},i.id)}))})}},663136:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),o=i(785893);function a({children:e,additionalStyles:t={}}){return(0,o.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},601156:(e,t,i)=>{i.d(t,{F:()=>r,Z:()=>l});var n=i(704115),o=i(883119),a=i(785893);const s={impressed:{backgroundColor:"#adebad"}},r=()=>void 0!==(0,n.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,a.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,a.jsx)(o.xv,{color:"inverse",children:(0,a.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},923219:(e,t,i)=>{i.d(t,{Z:()=>P});var n=i(667294),o=i(499128),a=i(898781),s=i(883119),r=i(785893);function l(e){const t=(0,a.ZP)(),{onHide:i}=e,n=(0,r.jsx)(s.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,r.jsx)(o.ZP,{onHide:i,text:n})}var d=i(6637),c=i(19121),_=i(343341);const u=function({anchor:e,onDismiss:t,pinId:i,signals:o}){const u=(0,a.ZP)(),[p,h]=(0,n.useState)(0),E=(0,c.Z)(),{showOneToast:m}=(0,_.F9)();if(!E.isEmployee)return null;const I=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:P,icon_url:f,signal_id:T,signal_message:g}=o[p];return(0,r.jsx)(s.mh,{children:(0,r.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,r.jsxs)(s.xu,{padding:4,width:"100%",children:[o.length>1&&(0,r.jsx)(s.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,r.jsx)(s.mQ,{activeTabIndex:p,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:i})=>{i(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),h(e)})({activeTabIndex:t,event:e})},tabs:I})}),(0,r.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,r.jsx)(s.X6,{size:"400",children:u._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,r.jsx)(s.xu,{paddingY:3,children:(0,r.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,r.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,r.jsx)(s.Ee,{alt:u._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:P}},height:40,width:40})}),(0,r.jsx)(s.xv,{size:"200",children:g})]})}),(0,r.jsx)(s.xu,{marginBottom:3,children:(0,r.jsx)(s.xv,{size:"200",children:u._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,r.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,r.jsx)(s.zx,{fullWidth:!0,color:"red",size:"md",text:u._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{const e={pin_id:i,signal_id:T,user:E.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),t(),m((({onHide:e})=>(0,r.jsx)(l,{onHide:e})))}}),(0,r.jsx)(s.zx,{fullWidth:!0,color:"gray",size:"md",text:u._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:t})]})]})})})};var p=i(241244),h=i(319915),E=i(947599),m=i(215292);function I({signals:e,pinId:t}){const{background_color:i,icon_url:o,signal_message:a}=e[0],[l,d]=(0,n.useState)(!1),c=(0,n.useRef)();return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(h.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,r.jsx)(E.Z,{children:(0,r.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,r.jsx)(p.Z,{children:(0,r.jsx)(m.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:n})=>(0,r.jsx)(s.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:n,children:(0,r.jsxs)(s.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,r.jsx)(s.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,r.jsx)(s.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,r.jsx)(s.Ee,{alt:"",color:i,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,r.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),l&&c&&c.current&&(0,r.jsx)(u,{anchor:c.current,onDismiss:()=>d(!1),pinId:t,signals:e})]})}function P({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:t,deb_ads:i,deb_content_quality:n,deb_inclusive_product:o,deb_shopping:a,deb_trust_and_safety:s}=e;return i?(0,r.jsx)(I,{pinId:t,signals:i}):n?(0,r.jsx)(I,{pinId:t,signals:n}):o?(0,r.jsx)(I,{pinId:t,signals:o}):a?(0,r.jsx)(I,{pinId:t,signals:a}):s?(0,r.jsx)(I,{pinId:t,signals:s}):null}},222239:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(601230),a=i(785893);function s(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function r({children:e,fadeInDuration:t=0,fadeOutDuration:i=o.X,visibility:r}){return"none"!==r&&e?(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:s(t,i)[r]},children:e}):null}},199534:(e,t,i)=>{i.d(t,{ZP:()=>m});var n=i(667294),o=i(663136),a=i(898781),s=i(55275),r=i(858358),l=i(407043),d=i(883119),c=i(785893);const _={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:r.Oc,filter:"blur(10px)",opacity:1}},u={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},p={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},h=["followed","related","search"],E=["pfy","pfyBoard"];function m({feedbackType:e,isHomefeedTunerVariantExp:t,pin:i,hideContents:m=!1}){var I;const{logContextEvent:P}=(0,l.v)(),f=(0,a.ZP)(),[T,g]=(0,n.useState)(!1),[A,y]=(0,n.useState)(!1);(0,n.useEffect)((()=>g(!0)),[]);const S=()=>y(!0),{feedbackText:v,images:x,showFeedbackOverlay:R,undoAction:b,undoText:O}=i,N=x&&(null===(I=x["236x"])||void 0===I?void 0:I.url),{image:C,subTitle:w,title:D,unfollow:L}=null!=v?v:{},M=!h.includes(e),k=E.includes(e),j=()=>{P({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:r.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[N&&(0,c.jsx)(o.Z,{additionalStyles:{..._.base,...T?_.blurred:{},backgroundImage:`url("${N}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...u.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...p.base,...!R&&T?p.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!m&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"light",size:"400",children:D})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[C&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:C.width,height:C.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:w||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:C.url||""})})}),(0,c.jsx)(d.xv,{color:"light",overflow:"normal",children:w})]}),t?(0,c.jsxs)(n.Fragment,{children:[b&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:b,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:f._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!b&&!A&&L&&!k&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(L.action,L.actionOptions,S),text:f._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),M&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:j,text:f._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]}):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xu,{children:M&&(0,c.jsx)(d.rU,{href:"/edit",onClick:j,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:f._('Tune your home feed', 'Text on the link to navigate to homefeed control', 'Text on the link to navigate to homefeed control')})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!b&&!A&&L&&!k&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(L.action,L.actionOptions,S),text:f._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),b&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:b,text:O||f._('Undo', 'Text on the button to undo hiding a pin', 'Text on the button to undo hiding a pin')})]})]})]})})})]})}},955362:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var n=i(667294),o=i(966338),a=i(617584),s=i(248975),r=i(316753),l=i(883561),d=i(898781),c=i(480211),_=i(22245),u=i(623568),p=i(844949),h=i(616320),E=i(883119),m=i(785893);function I({feedbackData:e,feedbackType:t,pin:i,pinTitle:I,setForcePrimary:P,transparentBackground:f}){const T=(0,d.ZP)(),g=(0,o.useDispatch)(),{viewParameter:A,viewType:y}=(0,h.E)(),{reportPin:S}=(0,p.f)(),[v,x]=(0,n.useState)(!1),[R,b]=(0,n.useState)(),{ad_match_reason:O,show_ad_reasons:N,board:C,category:w,description:D,id:L="",images:M,is_promoted:k,pinner:j,promoter:G,recommendation_reason:B,source_interest:U,videos:F}=i;var z;const H=(z=k?60:50,function(e){return(0,l.ZP)((e||"").trim(),z)})(null!=D?D:""),Z=(0,a.Z)(M,"236x"),V=(0,u.iR)(F),W=(0,c.Z)(101,{component:0,element:981,object_id_str:L,aux_data:{feedback_type:t}}),Y=()=>{N||(P(!1),g((0,_.i0)(L)),x(!1))};return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(E.xu,{"data-test-id":"feedback-button",ref:b,children:(0,m.jsx)(E.hU,{accessibilityLabel:T._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:f?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{v?Y():(P(!0),x(!0)),W()},size:"sm"})}),v&&(0,m.jsx)(E.xu,{onFocus:e=>e.stopPropagation(),children:(0,m.jsx)(r.Z,{anchor:R,ad_match_reason:O,bestPinImgSrc:(0,s.Z)(i),board:C,feedbackData:e,feedbackType:t,hideDownload:V,isPromoted:k,onLinkClick:()=>{v&&Y()},onDismiss:Y,onHide:Y,onDownloadHideFlyout:()=>{P(!1),x(!1)},pinCategory:w,pinDescription:H,pinId:L,pinImgSrc:Z,pinner:j,pinTitle:I,promoter:G,recommendationReason:B,reportPin:()=>S(i,A,y),sourceInterest:U,viewParameter:A,viewType:y})})]})}},316753:(e,t,i)=>{i.d(t,{Z:()=>j});var n=i(667294),o=i(966338),a=i(941646),s=i(883119),r=i(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:i,showNavigationIcon:n,text:o}){return(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(a.Z,{id:"ad-reason-icon",children:(0,r.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,r.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,r.jsx)(s.xv,{children:o})}),n&&i&&(0,r.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,r.jsx)(s.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})}var d=i(121151),c=i(966113),_=i(898781),u=i(349700),p=i(407043);const{ACCOUNT_SETTINGS:h,CANONICAL_MAIN_URL:E,HELP_BLOCKING:m,HELP_PROMOTED_PINS_URL:I}=c.Z.settings;function P({onDismiss:e,brandName:t,country:i,language:n,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:P,isGeoPostalCodeMatched:f,isGeoRegionMatched:T,isShoppingTargetingRematched:g}){const{logContextEvent:A}=(0,p.v)(),y=(0,_.ZP)(),S=f||T||o||c||g||P;return(0,r.jsx)(d.ZP,{accessibilityModalLabel:y._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,r.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,r.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,r.jsx)(s.xu,{position:"absolute",left:!0,children:(0,r.jsx)(s.hU,{accessibilityLabel:y._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,r.jsx)(s.X6,{align:"center",size:"500",children:y._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,r.jsxs)(s.xu,{children:[(0,r.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,r.jsx)(s.xu,{children:(0,r.jsx)(s.xv,{children:(0,u.nk)(y._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,r.jsx)(a.Z,{id:"ad-reasons-learn-more-link",children:(0,r.jsx)(s.xv,{inline:!0,children:(0,r.jsx)(s.rU,{href:I,inline:!0,onClick:()=>{A({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:y._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),S&&(0,r.jsx)(s.xu,{marginBottom:4,children:(0,r.jsx)(s.xv,{children:(0,u.nk)(y._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,r.jsx)(a.Z,{id:"ad-reasons",children:(0,r.jsxs)(s.kC,{direction:"column",flex:"none",gap:4,children:[f||T?(0,r.jsx)(s.iP,{role:"link",href:`${E}${h}`,onTap:()=>{A({event_type:101,component:13756,element:12059})},target:"blank",children:(0,r.jsx)(l,{iconAccessibilityLabel:y._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:y._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,u.nk)(y._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-country-name"),language:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-language")})})}):null,o&&(0,r.jsx)(l,{iconAccessibilityLabel:y._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,u.nk)(y._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),c&&(0,r.jsx)(l,{iconAccessibilityLabel:y._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:y._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),g&&(0,r.jsx)(l,{iconAccessibilityLabel:y._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,u.nk)(y._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously'),{brandName:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),P&&(0,r.jsx)(l,{iconAccessibilityLabel:y._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,u.nk)(y._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list'),{brandName:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),S&&(0,r.jsx)(s.xu,{marginBottom:1,children:(0,r.jsx)(s.xv,{children:y._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})})]})}),(0,r.jsxs)(s.kC,{direction:"column",gap:1,children:[(0,r.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,r.jsx)(s.iz,{})}),(0,r.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,r.jsx)(s.X6,{size:"400",children:y._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,r.jsx)(s.xu,{marginBottom:4,children:(0,r.jsx)(s.xv,{children:(0,u.nk)(y._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,r.jsx)(s.xv,{inline:!0,children:(0,r.jsx)(s.rU,{inline:!0,href:m,onClick:()=>{A({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:y._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})]})]})]})})}var f=i(784590),T=i(19121),g=i(780280);function A({pinId:e,onDismiss:t}){var i,a,s,l;const{logContextEvent:d}=(0,p.v)(),{locale:c}=(0,g.B)(),{country:_=""}=(0,T.Z)(),u=(0,f.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),h=(0,f.Z)({name:"LocalesResource"}),E=(0,o.useSelector)((({pins:t})=>t[e]));(0,n.useEffect)((()=>{d({event_type:120,component:13756})}),[d]);const{ad_targeting_attribution:m,promoter:I}=null!=E?E:{},{is_age_matched:A=!1,is_behavior_targeting_matched:y=!1,is_customer_list_matched:S=!1,is_geo_postal_code_matched:v=!1,is_geo_region_matched:x=!1,is_shopping_retargeting_matched:R=!1}=null!==(i=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t])).slice(0,t).reduce(((t,i)=>({...t,[i]:e[i]})),{})}(m))&&void 0!==i?i:{},b=null!==(a=null==I?void 0:I.full_name)&&void 0!==a?a:"",O=function(e,t){var i;const{name:n=""}=null!==(i=e.find((e=>e.key===t)))&&void 0!==i?i:{};return n}(null!==(s=u.data)&&void 0!==s?s:[],_),N=function(e,t){var i;const{name:n=""}=null!==(i=e.find((e=>e.key===t)))&&void 0!==i?i:{};return n}(null!==(l=h.data)&&void 0!==l?l:[],c);return(0,r.jsx)(P,{brandName:b,country:O,language:N,isAgeMatched:A,isBehaviorTargetingMatched:y,isCustomerListMatched:S,isGeoPostalCodeMatched:v,isGeoRegionMatched:x,isShoppingTargetingRematched:R,onDismiss:t})}var y=i(890587),S=i(405669),v=i(149230),x=i(311152),R=i(372063),b=i(760372),O=i(778423),N=i(813401),C=i(680046),w=i(22245),D=i(55275),L=i(925927);function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class k extends n.Component{constructor(e){super(e),M(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:t,feedbackType:i,pinner:n,promoter:o,recommendationReason:a,sourceInterest:s}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:i,makeNavigateLink:this.makeNavigateLink,pinner:n,promoter:o,recommendationReason:a,sourceInterest:s})})),M(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:i,recommendationReason:n}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,a,l;return i&&i.explicitly_followed_by_me?(o=i.image_small_url,a="50%",l=`/${i.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,a="4px",l=n&&n.board&&n.board.url||e.url),o?(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:(0,r.jsx)(s.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,r.jsx)(s.zd,{height:40,wash:!0,width:40,children:(0,r.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),M(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,pinner:i,sourceInterest:n}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:i,sourceInterest:n})})),M(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),M(this,"feedbackHelpers",(0,C.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:u.nk})),M(this,"makeNavigateLink",((e,t,i,n)=>(0,r.jsx)(s.rU,{onClick:this.props.onLinkClick,href:t,inline:!0,underline:"hover",children:(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:i})},e))),M(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),M(this,"hidePinOption",(e=>{const{feedbackData:t,feedbackType:i,pinId:n,recommendationReason:o}=this.props,a="search"===i?973:982,{action:s,actionOptions:r}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:i,pinId:n,recommendationReasonId:o&&o.reason&&O.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===i?4:10,throughId:o&&(0,C.yl)(o),throughProperties:o&&(0,C.XZ)(o),clientTrackingParams:(0,y.Z)(n)}),l=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:s,actionOptions:r,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:a}})),M(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:t,pinId:i,recommendationReason:n}=this.props,{board:o,reason:a}=null!=n?n:{},s=a&&O.ReasonToChoose[a],r=n&&(0,C.yl)(n),l=n&&(0,C.XZ)(n),d="pfyBoard"===t,{action:c,actionOptions:_}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:i,recommendationReasonId:s,pinFeedbackType:d?2:4,throughId:r,throughProperties:l,clientTrackingParams:(0,y.Z)(i)}),p=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:_,feedbackText:{subTitle:d&&o?(0,u.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:p}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:d&&o?(0,u.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:o.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),M(this,"unfollowBoardOption",(()=>{var e,t;const{board:i}=this.props,n=i?this.makeNavigateLink("boardUrl",null!==(e=i.url)&&void 0!==e?e:"",null!==(t=i.name)&&void 0!==t?t:"",!0):"",o=(0,u.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==i?void 0:i.name}),a=(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==i?void 0:i.id},feedbackText:{title:"",subTitle:a},text:o,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==i?void 0:i.name}),elementType:10614}})),M(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:i="",url_name:n=""}=e,o=`/topics/${n}`,a=this.makeNavigateLink("topicUrl",o,i,!0),s=(0,u.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:i}),r=(0,u.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:a});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:b.X},feedbackText:{title:"",subTitle:r},text:s,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),M(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:i,full_name:n}=null!=e?e:{},o=`/${i}`,a=e?this.makeNavigateLink("pinnerUrl",o,null!=n?n:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:a})},text:(0,u.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),M(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),M(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:t,hideDownload:i,pinner:n}=this.props,o="followed"===this.props.feedbackType,a=e.pathname.includes("following"),s=(o||"topic"===t)&&!a,r=this.hidePinOption(s),l=this.reportPinOption(),d="promoted"!==t&&!i;switch(t){case"followed":const e=a,i=!e&&this.getRecommendationDescription(),o=null!=n&&n.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...i?{description:i}:{},options:[r,...s||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:_}=this.props,u=[r,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{_(c)}},l];return{description:this.getRecommendationDescription(),options:u};case"topic":const p=this.unfollowTopicOption(),h=[r,...s&&p?[p]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const E=[r,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:E};default:const m=[r,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m}}})),M(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:t,promoter:i}=this.props,n=e?null:this.getUnfollowAction();return t&&null!=i&&i.full_name?{title:"",subTitle:(0,u.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:i.full_name})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,i){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,D.t)(t.action,t.actionOptions,i)}onPinHide(e,t,i,n){const{hidePinFeedback:o,onHide:a,pinId:s,showPinFeedback:r,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:_,logContextEvent:u}=this.props;t&&i&&n?d(s,e,(0,C.EF)(i,n,s,_,c,o,u),this.getUndoText(n)):r(s,e),!i||i.promoted||10!==i.feedback_type&&4!==i.feedback_type?a():(this.setState({showSecondary:!0}),l(s))}handleClickLogging(e,t={}){const{feedbackType:i,viewParameter:n,viewType:o,logContextEvent:a}=this.props;a({event_type:101,view_type:o,view_parameter:n,element:e,component:(0,C.nb)(i),aux_data:{...t}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:i,viewType:n,viewParameter:o,logContextEvent:a,isWindowsPwa:l}=this.props,{pinFeedbackConfig:d}=this.state,{options:c}=d,_=[],u=c.length;for(let p=0;p<u;p+=1){const d=c[p],u=D.P.includes(d.action),h=d.callback?d.callback:()=>this.onPinHide(d.feedbackText,u,d.actionOptions,d.action);if("downloadPin"!==d.action){const e=(0,v.Z)({url:d.link||""});let t="";Array.isArray(d.text)?t=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(t=d.text.toString()),_.push(d.link?(0,r.jsx)(s.Lt.Link,{href:d.link,isExternal:e,option:{value:d.action||"",label:t},dataTestId:d.dataTestId||""}):(0,r.jsx)(s.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,d,h),option:{value:d.action||"",label:t},dataTestId:d.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:d,pinCategory:c}=this.props;_.push((0,r.jsx)(s.Lt.Item,{onSelect:()=>{(0,S.Z)({category:c,filename:l||d,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:i,viewParameter:o,viewType:n},a)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return _}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:i,onDismiss:o,feedbackData:a,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:_,recommendationReason:u,showAdReasons:p,viewParameter:h,viewType:E}=this.props,{description:m}=e,I=this.getRecommendationDescriptionImage();return(0,r.jsxs)(n.Fragment,{children:[t?(0,r.jsx)(x.Z,{anchor:i,feedbackData:a,feedbackType:l,pinId:c,onDismiss:o,onHide:_,recommendationReason:u,viewParameter:h,viewType:E}):(0,r.jsx)(s.Lt,{anchor:i,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:R.lI,headerContent:m&&(0,r.jsxs)(s.kC,{alignItems:"center",children:[(0,r.jsx)(s.xu,{"data-pin-recommendation-reason":null==u?void 0:u.reason,maxHeight:56,overflow:"hidden",children:(0,r.jsx)(s.xv,{color:"default",overflow:"normal",size:"200",children:m})}),I]}),children:this.renderButtons()}),p&&(0,r.jsx)(A,{onDismiss:()=>d(c),pinId:c})]})}}const j=(0,o.connect)(null,(e=>({hidePinFeedback:t=>e((0,w.I1)(t)),showPinFeedback:(t,i)=>e((0,w.ZP)(t,i)),showPinFeedbackOverlay:t=>e((0,w.Ib)(t)),showPinFeedbackUndo:(t,i,n,o)=>e((0,w.NA)(t,i,n,o)),showAdReasonsModal:t=>e((0,w.b9)(t)),hideAdReasonsModal:t=>e((0,w.yj)(t))})))((function(e){const{logContextEvent:t}=(0,p.v)(),i=(0,_.ZP)(),{ad_targeting_attribution:n,show_ad_reasons:a=!1}=(0,o.useSelector)((({pins:t})=>t[e.pinId])),s=(0,N.kf)();return(0,r.jsx)(k,{...e,showAdReasons:a,adTargetingAttribution:n,history:(0,L.k6)(),i18n:i,isWindowsPwa:s,location:(0,L.TH)(),logContextEvent:t})}))},311152:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(898781),o=i(55275),a=i(883119),s=i(372063),r=i(349700),l=i(778423),d=i(407043),c=i(680046),_=i(785893);function u({anchor:e,feedbackData:t,feedbackType:i,pinId:u,onDismiss:p,onHide:h,recommendationReason:E,viewParameter:m,viewType:I}){const{logContextEvent:P}=(0,d.v)(),f=(0,n.ZP)(),T=(0,c.ZP)({i18n:f,interpolateNamedTemplate:r.nk}),g=(e,n)=>{const a=E&&E.reason&&l.ReasonToChoose[E.reason],s=E&&(0,c.yl)(E),r=E&&(0,c.XZ)(E),{action:d,actionOptions:_}=T.getHidePinAction({feedbackData:t,feedbackType:i,pinId:u,recommendationReasonId:a,throughId:s,throughProperties:r,complaintReason:e});(e=>{P({event_type:101,view_type:I,view_parameter:m,element:e,component:(0,c.nb)(i)})})(n),(0,o.t)(d,_),h()},A="promoted"===i?[{text:f._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:f._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:f._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:f._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:f._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:f._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:f._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:f._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,_.jsx)(a.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:s.lI,id:"pin-action-dropdown",children:(0,_.jsx)(a.Lt.Section,{label:f._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:A.map((({text:e,reason:t,elementType:i})=>(0,_.jsx)(a.Lt.Item,{onSelect:()=>g(t,i),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},266413:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),o=i(294184),a=i.n(o),s=i(391254),r=i(149230),l=i(927104),d=i(898781),c=i(883119),_=i(785893);class u extends n.Component{constructor(...e){var t,i,n;super(...e),n={showBoardName:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:i,name:o,shouldUseLegoStyles:d,type:u,url:p}=this.props;if(d&&t)return null;const h="boardless"===u?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):o;let E,m;if(!i||e||d){const e=d?(0,_.jsx)(c.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,l.Z)(h,20)}):(0,_.jsx)(c.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),t=(0,r.Z)({url:p})?"nofollow":"none";E=p?(0,_.jsx)(c.rU,{rel:t,href:p,children:e}):e}else E=(0,_.jsx)(c.xv,{color:"inverse",children:(0,_.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return i&&(m=e?"board":"saved"),(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(s.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,_.jsx)("div",{"data-test-id":"savedInfo",className:!d&&a()("SavedAnimation",m),children:E})]})}}const p=function(e){const t=(0,d.ZP)();return(0,_.jsx)(u,{...e,i18n:t})}},378396:(e,t,i)=>{i.d(t,{Y:()=>r,Z:()=>_});var n=i(898781),o=i(407043),a=i(883119),s=i(785893);const r=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},c={component:13668,view_type:4,view_parameter:3106};function _({pinId:e,surface:t}){const{logContextEvent:i}=(0,o.v)(),_=(0,n.ZP)(),u=()=>{const e=r.includes(t)?c:"BaseBoardPinGrid"===t?d:"UserProfilePinGrid"===t?l:{};i({event_type:101,element:10573,...e})},p=_._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,s.jsx)(a.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:r.includes(t)?(0,s.jsx)(a.zx,{role:"link",accessibilityLabel:_._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:u,size:"sm",text:(h=p,h.length>14?`${h.substring(0,12).trim()}...`:h)}):(0,s.jsx)(a.hU,{role:"link",accessibilityLabel:_._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:u,size:"sm"})});var h}},122016:(e,t,i)=>{function n(e,t){const i=t&&t.owner&&t.owner.id;return e.isAuth&&i===e.id}i.d(t,{Z:()=>n})},275727:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(379089);function o(e){return n.zI.includes(e)}},910135:(e,t,i)=>{i.d(t,{Z:()=>oe});var n=i(667294),o=i(966338),a=i(838292),s=i(605028),r=i(379089);function l({isGroupBoard:e,pin:t,surface:i}){const{carousel_data:n,grid_title:o,rich_summary:a,title:l}=t,{isOwnPin:d,isPromoted:c}=(0,s.Z)(t);if(n){const{carousel_slots:e=[],index:t=0}=n;if(e[t]&&e[t].title)return e[t].title.trim()}if(c){if(r.ZF.includes(i))return o||"";if(d&&!e&&!n&&"UserProfilePinGrid"!==i)return"";const t=a&&"mobile application"!==a.type_name&&a.display_name;return l||t||o||""}return o||""}var d=i(623568);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var _=i(403001),u=i(595342),p=i(483296);const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function E({attributionOption:e,board:t,contentType:i,experimentsClient:n,feedbackData:o,feedbackType:a,hasCarouselData:r,inMsgPinCardUpdateExp:d=!1,isGroupBoard:c,isORBACProfileManager:E,isOwnBoard:m,pin:I,searchResultNewIdeaPinStyle:P=!1,showImageOnly:f,showNativeReactions:T,showPromotedShoppingPrice:g,surface:A,viewer:y}){var S;const{isPromoted:v,isSponsored:x}=(0,s.Z)(I),{pin_note:R}=I,b=function({attributionOption:e,feedbackType:t,isGroupBoard:i,pin:n,showImageOnly:o,surface:a,inMsgPinCardUpdateExp:s=!1}){const{is_downstream_promotion:r,native_creator:l,promoter:d,sponsorship:c,story_pin_data_id:_}=n;if("promoted"===t||d&&!r||c)return"default";if((!s||"ConversationView"!==a)&&h.includes(a))return"none";if(i)return"none";let u="default";return"SearchItem"===a&&_?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===e?u:"TodayArticleFeed"===a&&"show"===e?"show-for-claimed-content":l?"default":"none":u)}({attributionOption:e,feedbackType:a,isGroupBoard:c,pin:I,showImageOnly:f,surface:A,inMsgPinCardUpdateExp:d}),O=f?"":l({isGroupBoard:c,pin:I,surface:A}),N=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(A)&&!v&&!f&&Boolean((0,_.Z)(I,A)),C=["ShoppingGridShippedMetadataWithVisitButton"].includes(A),w="BaseBoardPinGrid"===A&&R?null===(S=R.text)||void 0===S?void 0:S.trim():null,D=v,L="shopping"===i,M=/ShoppingSquareGridRelatedProducts/.test(A);let k=2;v?k=3:(N||"none"!==b)&&(k=L||M?2:1);let j,G,B,U;if(L||(v&&M||g)){var F,z;const e=null===(F=I.rich_summary)||void 0===F||null===(z=F.products)||void 0===z?void 0:z[0],{offer_summary:t}=e||{};j=t?t.standard_price:void 0,G=t?t.price||t.max_price:void 0}if(L&&!v){var H,Z,V;const{rating_count:e,rating_value:t,review_count:i}=(null===(H=I.rich_summary)||void 0===H?void 0:H.aggregate_rating)||{};(e||i)&&parseFloat(t)&&(B={count:e||i,rating:t}),U=null===(Z=I.rich_metadata)||void 0===Z||null===(V=Z.products)||void 0===V?void 0:V[0].shipping_info}const W=(0,p.rh)(I,y,n),Y="CreatorProfileStoryPinGrid"===A||"CreatorProfileActivityPinGrid"===A,K=!Y,X=c&&!x;return{attributionDisplay:P?"overlay":"default",attributionType:b,board:t,contentType:i,feedbackData:o,feedbackType:a,pinNoteText:w,pinTitle:O,productCurrentPrice:G,productOriginalPrice:j,productRating:B,productShipping:U,reactionAlignment:P?"center":"start",showCarouselEllipsis:r,showFavoriteButton:!E&&("BaseBoardPinGrid"===A&&m||Boolean((null==t?void 0:t.is_collaborative)&&(0,u.Z)({board:t,viewer:y})))&&!Y,showGroupBoardAvatar:X,showNativeReactions:T,showOverflowMenu:D,showPinStats:W,showSource:N,showTextContent:K,showTitle:!P,showVerifiedIcon:!!P,showVisitSiteButton:C,titleLines:k}}var m=i(978674),I=i(121630),P=i(704177),f=i(974166),T=i(354042);const g=["ShoppingCatalogsProductsMetadata"];const A=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],y=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var S=i(122016),v=i(319915),x=i(984405),R=i(118552),b=i(687551),O=i(954571),N=i(778841),C=i(574589),w=i(411938),D=i(275727),L=i(947599),M=i(898781),k=i(717615),j=i(767790),G=i(19121),B=(i(883119),i(378396)),U=i(681227),F=i(335106),z=i(231947),H=i(18919),Z=i(616320),V=i(494349),W=i(862624),Y=i(578722),K=i(330899),X=i(63411),$=i(601156),q=i(217468),J=i(53987),Q=i(925927),ee=i(785893);const te=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(69965),i.e(77638),i.e(92982)]).then(i.bind(i,576070)))),ie=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ne=["BaseBoardPinGrid","UserProfilePinGrid",...B.Y];const oe=(0,o.connect)((function({boards:e,pins:t},{pin:i,pinId:n}){const o=t[n]||i,a=o.board&&o.board.id,s=(a?e[`${a}`]:void 0)||o.board;return o.grid_title=o.grid_title||i.grid_title,{board:s,reduxPin:o}}),(()=>({})))((function({attributionOption:e,blockClickEvents:t,board:i,debugImpressionState:_,feedbackOptions:u,imageOnlyOption:h="default",pinImageCrop:B,pinImageFit:oe,reduxPin:ae,resolution:se="default",saveButtonOptions:re,surface:le,trackingParameters:de,...ce}){var _e,ue;const pe=(0,M.ZP)(),he=(0,W.Y)(),{collaborated_by_me:Ee,collaborator_count:me,is_collaborative:Ie}=i||{},{is_quick_promotable:Pe,pinner:fe,showFeedback:Te,sponsorship:ge,story_pin_data_id:Ae}=ae,{isPromoted:ye}=(0,s.Z)(ae),Se=(0,C.Z)(ae),ve=(0,G.Z)(),xe=(0,k.Z)(),{anyEnabled:Re}=(0,q.tc)("web_m10n_business_access_orbac_beta_2")(),be=(0,q.tc)("dweb_search_results_idea_attribution"),{group:Oe}="SearchItem"===le?be():{},Ne=!!Ae&&["enabled_blended","enabled_idea","employees"].includes(Oe),Ce=(0,Q.TH)(),{slotIndex:we,viewParameter:De}=de,{anyEnabled:Le}=(0,q.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(le)),Me=(0,K.x)(),{appUI:{videosAutoplaying:ke}}=(0,V.I)(),je=(0,F.i8)(ae.id,ke),Ge=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Be=(0,N.Z)(ae),Ue=(0,b.Z)(ae),Fe=ve.isAuth&&ve.isEmployee,ze=ve.isAuth&&((0,O.Z)(null,ve)||(0,w.Z)(null,ve))&&!ve.isPartner;let He=ze;"TodayArticleFeed"===le&&(He=!1),"default"!==h&&(He="image-only"===h),(0,D.Z)(le)&&(He=!1),"ShoppingSquareGridDomainNoMetadata"===le&&(He=!0),ye||Ae||!["enabled_blended","employees"].includes(Oe)||(He=!0);let Ze=e;ze&&!Ze&&(Ze="image-only");const Ve=(0,R.Z)({feedbackOptions:u,pin:ae,viewParameter:De},pe),{data:We}=u||{},Ye="number"==typeof me&&me>0||Ie;let Ke=!1;"OtherProfilePinGrid"===le?Ke=!0:"BaseBoardPinGrid"===le?Ke="dense"===(null==Me?void 0:Me.boardPinDensity):"UserProfilePinGrid"===le&&(Ke="dense"===(null==Me?void 0:Me.profilePinDensity));const Xe=Boolean(Ye&&"BaseBoardPinGrid"===le),$e=(0,j.Z)(),qe=(0,o.useSelector)((({users:e})=>{var t,i,n,o;return e&&e[null!==(t=null===(i=$e.data)||void 0===i?void 0:i.id)&&void 0!==t?t:""]?e[null!==(n=null===(o=$e.data)||void 0===o?void 0:o.id)&&void 0!==n?n:""]:$e.data})),Je=(0,S.Z)(ve,i);let Qe=!1;if(!!(0,Q.LX)(Ce.pathname,{path:"/:username/_created/",exact:!0}))Qe=(0,z.q6)(ve,null==qe?void 0:qe.id,xe);else if((0,J.am)(Ce)||(0,J.OJ)(Ce)){const e=i&&i.owner&&i.owner.id||"";Qe=(0,z.q6)(ve,e,xe)}const et=Boolean(ve.isAuth&&fe&&fe.id===ve.id),tt=Boolean(Ee||Ye&&Je),it=ve.isAuth&&ve.isPartner,nt=(0,q.aq)("web_deleted_idea_pins",!(null===(_e=ae.story_pin_data)||void 0===_e||!_e.is_deleted)).anyEnabled,ot=(0,n.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:t,surface:i}){const n={primaryContent:null,secondaryContent:null,actionBar:y.includes(i)||t?"none":"visible",accessoryContent:e?"visible":"none"};return t||A.includes(i)?(n.primaryContent="none",n.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(i)&&(n.primaryContent="visible"),n}({hasCarouselData:Ue,isDeletedStoryPin:nt,surface:le})),[Ue,nt,le]),at=(0,n.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:i,isInlineBetterSave:n,isOwnBoard:o,isORBACProfileManager:a,isQuickPromotable:s,isRemovable:l,saveButtonOptions:d,surface:c,viewer:_,viewerIsCollaborator:u}){const p=_.isAuth?_.boardCount:void 0;let h=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);s?h={type:"promote"}:(u||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(c)?h={type:"classic"}:(u||o)&&["BaseBoardPinGrid"].includes(c)&&null!=e&&e.name&&e.url&&e.id&&(h={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return n&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||g.includes(c)||a)&&(h={type:"none"}),{board:e,derivedSaveButtonOptions:h,showLikeButton:u&&i&&r.UP.includes(c),supportsReactionBar:!t}}({board:i,isInlineBetterSave:Le,isDenseView:Ke,isGroupBoard:Xe,isOwnBoard:Je,isOwnPin:et,isORBACProfileManager:Qe,isQuickPromotable:Pe,isRemovable:Se,saveButtonOptions:re,surface:le,viewer:ve,viewerIsCollaborator:tt})),[i,Le,Ke,Xe,Je,et,Qe,Pe,Se,re,le,ve,tt]),{anyEnabled:st}=(0,q.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let rt;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridRelatedProducts"].includes(le)&&!ye&&(rt="white");const lt=(0,n.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:i}){return{allowProductCarousel:e,allowShoppingPriceIndicator:r.Wv.includes(i),shoppingLabelColor:t}}({allowProductCarousel:Be,shoppingLabelColor:rt,surface:le})),[Be,rt,le]),dt=(0,n.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:i,isDenseView:n,isGroupBoard:o,isOwnBoard:r,isORBACProfileManager:_,isORBACBeta2:u,pin:p,surface:h,viewer:E}){var m;const{isOwnPin:I,isPromoted:P}=(0,s.Z)(p),f=l({isGroupBoard:o,pin:p,surface:h}),T=e&&(0,a.Z)({action:4,board:e,viewer:E})||I,g=p.savedInfo&&p.savedInfo.localPinId,A=Boolean(r&&!o||"UserProfilePinGrid"===h&&T||g),y=Boolean(o&&T||A||_&&(!(0,d.hy)(p)||u)),S=Boolean((null==e?void 0:e.is_collaborative)||A),v=!(P||r||o||c.includes(h)||_),x="CloseupRelatedProducts"!==h&&!_,{tracked_link:R,link:b}=p,O=!(null===(m=null!=R?R:b)||void 0===m||!m);let N=o&&n?"equally-spaced":"default",C="default";return n&&(C=o?"icon-only":"truncated-text"),n&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(h)&&(C="icon-only",N="equally-spaced"),{actionBarEditBeforeShare:S,feedbackData:t,feedbackType:i,layout:N,pinTitle:f,showEditButton:y,showOverflowMenu:v,showShareButton:x,showSourceLinkButton:O,sourceLinkStyle:C}}({board:i,feedbackData:We,feedbackType:Ve,isDenseView:Ke,isGroupBoard:Xe,isOwnBoard:Je,isORBACProfileManager:Qe,isORBACBeta2:Re,pin:ae,surface:le,viewer:ve})),[i,We,Ve,Ke,Xe,Je,Qe,Re,ae,le,ve]),ct=!Qe&&(0,p.rh)(ae,ve,he)&&ne.includes(le)&&et,_t=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(le),ut=!ye&&_t?"shopping":"standard",pt="CreatorProfileStoryPinGrid"===le?et&&(0,U.J6)(ae,nt):(0,U.J6)(ae,nt),ht=(0,q.tc)("web_ag_msg_pin_card_update"),Et="ConversationView"===le&&ht({dangerouslySkipActivation:!0}).anyEnabled,mt=(0,n.useMemo)((()=>E({attributionOption:Ze,board:i,contentType:ut,experimentsClient:he,feedbackData:We,feedbackType:Ve,hasCarouselData:Ue,inMsgPinCardUpdateExp:Et,isGroupBoard:Xe,isORBACProfileManager:Qe,isOwnBoard:Je,pin:ae,searchResultNewIdeaPinStyle:Ne,showImageOnly:He,showNativeReactions:pt,showPromotedShoppingPrice:st&&ye&&_t,surface:le,viewer:ve})),[Ze,i,ut,he,We,Ve,Ue,Et,Xe,Qe,Je,ye,_t,ae,Ne,st,He,pt,le,ve]),It=!!ae.story_pin_data_id,Pt=ae.created_at?new Date(ae.created_at):null,ft=(0,Y.pN)({isOwnPin:et,isStoryPin:It,pinCreationDate:Pt,surface:le});let Tt=Boolean(mt.pinTitle||mt.contentType||mt.userNote||mt.showSource||"none"!==mt.attributionType||mt.showNativeReactions||mt.productCurrentPrice||mt.productOriginalPrice||mt.showPinStats)||Xe;"BaseBoardPinGrid"===le&&Je&&it||ge?Tt=!0:ie.includes(le)||Ke&&(Je||Ee)?Tt=!1:et||"CreatorProfileStoryPinGrid"!==le&&"CreatorProfileActivityPinGrid"!==le||(Tt=!1);const gt=Boolean(Te),At=(0,q.tc)("web_others_board_feed_ads_border"),yt={showNoPinBorderRadius:"TopicBestPinNarrow"===le||"TopicBestPinWide"===le||Et&&"ConversationView"===le,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===le&&ye&&At().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:St}=(0,q.aq)("hfp_homefeed_control_cta_variants"),vt={feedbackType:Ve,isHomefeedTunerVariantExp:St},{anyEnabled:xt}=(0,q.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),Rt=(0,n.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,isSocialSeasonalBoard:i,pinImageCrop:n,pinImageFit:o,resolution:a,showPromotedVideos:s,surface:l}){const d=r.zl.includes(l);let c="backend";"CloseupRelatedProducts"===l?c={height:T.GZ,width:T.OE}:"TopicBestPinWide"===l?c={height:f.m9,width:f.BS}:"TopicBestPinNarrow"===l?c={height:f._5,width:f.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||d?c={height:T.zX,width:T.zX}:n&&(c=n);let _="none",u=null!=a?a:"default";"string"!=typeof c&&(_="cover",(d||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(_="contain",u="high-res"));const p=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",h=(0,I.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===P.Xb.getItem(m.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:p,imageFit:_,isDenseView:t,isSocialSeasonalBoard:i,resolution:u,rootMargin:h,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:s}}({hasCarouselData:Ue,isDenseView:Ke,isPromoted:ye,isSocialSeasonalBoard:!1,pinImageCrop:B,pinImageFit:oe,resolution:se,showPromotedVideos:xt,surface:le})),[Ue,Ke,ye,B,oe,se,xt,le]),bt=Fe&&(0,$.F)(),Ot=(0,n.useMemo)((()=>({debugImpressionState:_,slotIndex:we})),[_,we]);return(0,ee.jsx)(v.Z,{name:"PinRepConfiguration",children:(0,ee.jsx)(Z.B,{value:de,children:(0,ee.jsxs)(H.B,{value:{surface:le},children:[(0,ee.jsx)(X.Z,{actionBarProps:dt,blockClickEvents:t,currentlyPlayingVideo:je,footerProps:mt,impressionsDebuggerProps:Ot,obscuredPinOverlayProps:vt,pin:ae,pinVisualProps:Rt,presentationProps:yt,primaryContentProps:at,secondaryContentProps:lt,showFooter:Tt||ft,showImpressionsDebugger:bt,showObscuredPinOverlay:gt,showSeeStatsButton:ct,showSignalDebugger:Fe,showUnavailablePin:nt,surface:le,visibilityOverrides:ot,...(0,x.Z)(ce,["pinId"])}),Ge.shouldOpenModal&&Ge.newPin&&(null===(ue=Ge.originalPin)||void 0===ue?void 0:ue.id)===ae.id&&(0,ee.jsx)(v.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ee.jsx)(L.Z,{children:(0,ee.jsx)(te,{experience:Ge.experience,newPin:Ge.newPin})})})]})})})}))},63411:(e,t,i)=>{i.d(t,{J:()=>li,Z:()=>di});var n=i(667294),o=i(241244),a=i(319915),s=i(605028),r=i(947599),l=i(898781),d=i(780280),c=i(616320),_=i(527890),u=i(768559),p=i(89254);function h(e,t){const{carousel_data:i,domain:n,ad_destination_url:o}=e;let a=n||"";return o&&(a=(0,p.Z)(o).hostname||""),i&&i.id&&(a=function(e,t){const i=t||e&&e.index||0,n=e&&e.carousel_slots||[],o=n[i]&&n[i].link||"";return o&&(0,p.Z)(o).hostname||""}(i,t)),a.replace("www.","")}var E=i(287072),m=i(480211),I=i(890473),P=i(925927),f=i(883119),T=i(785893);const g={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function A({pin:e,sourceLinkStyle:t,surface:i,url:o}){const a=(0,l.ZP)(),[s,r]=(0,n.useState)(!1),{id:d}=e,p=h(e),A=(0,P.TH)(),y=(0,I.Kl)(e)||{},{slotIndex:S}=(0,c.E)(),v=(0,u.Z)(e,A),x=(0,m.Z)(12,{object_id_str:d,clientTrackingParams:v,aux_data:{grid_index:S,...(0,I.Kl)(e)||{}}}),R=(0,m.Z)(101,{element:162,object_id_str:d,clientTrackingParams:v,aux_data:{...(0,I.Kl)(e)||{}}}),b=(0,m.Z)(8948,{object_id_str:d,clientTrackingParams:v,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:S,...(0,I.Kl)(e)||{}}}),O=()=>{x(),R(),b()},N=(0,E.Z)({href:o,target:"blank",externalData:{auxData:y,pin:e,surface:i}});return"icon-only"===t?(0,T.jsx)(f.hU,{accessibilityLabel:a._('link', 'Website url link', 'Website url link'),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),O(),N({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{...g.container,...s?g.containerHovered:Object.freeze({}),..."truncated-text"===t?g.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),position:"relative",children:(0,T.jsx)(_.Z,{hovered:s,pin:e,slotIndex:S,viewType:1,children:(0,T.jsx)(f.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),O(),N({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,T.jsxs)(f.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:g.text},display:"flex",justifyContent:"between",children:[(0,T.jsx)(f.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,T.jsx)(f.JO,{accessibilityLabel:a._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,T.jsx)(f.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,T.jsx)(f.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:p})})]})})})})}const y=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(14166),i.e(85314),i.e(48035)]).then(i.bind(i,661712)))),S=(0,n.lazy)((()=>Promise.resolve().then(i.bind(i,955362)))),v=(0,n.lazy)((()=>i.e(5035).then(i.bind(i,833708))));const x=(0,n.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:i,layout:_,onToggleFlyout:u,pin:p,pinTitle:h,setForcePrimary:E,showEditButton:m,showOverflowMenu:I,showShareButton:P,showSourceLinkButton:g,sourceLinkStyle:x,surface:R}){var b,O;const N=(0,l.ZP)(),C=(0,f.JZ)(),{isRTL:w}=(0,d.B)(),{viewParameter:D,viewType:L}=(0,c.E)(),{carousel_data:M,id:k,savedInfo:j,tracked_link:G,link:B,ad_destination_url:U}=p,F=null!==(b=null!==(O=null!=U?U:G)&&void 0!==O?O:B)&&void 0!==b?b:"",{isLeadPin:z}=(0,s.Z)(p),[H,Z]=(0,n.useState)(m),[V,W]=(0,n.useState)(m),[Y,K]=(0,n.useState)(m),X={...w?{marginLeft:m&&I?-44:0}:{marginRight:m&&I?-44:0},transition:w?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},$={opacity:Y?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},q={...w?{marginRight:V?4:0}:{marginLeft:V?4:0},transition:w?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,n.useEffect)((()=>{let e;return m&&I?(W(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{Z(!0),requestAnimationFrame((()=>{K(!0)}))}))}),800)):(W(m),Z(m),requestAnimationFrame((()=>{K(m)}))),()=>{clearTimeout(e)}}),[m,I]);let J=null;g&&(J=(0,T.jsx)(o.Z,{children:z?(0,T.jsx)(f.zx,{role:"button",accessibilityLabel:N._('Link for closeup view and sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link'),size:"sm",text:N._('Sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link')}):(0,T.jsx)(A,{pin:p,sourceLinkStyle:x,surface:R,url:F})}));const Q=P&&(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"send-share-link",children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(v,{pin:p,setForcePrimary:E})})})})}),ee=Boolean(null==j?void 0:j.localPinId)?null==j?void 0:j.localPinId:k,te=H&&(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:C?void 0:{__style:$},children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(y,{carouselSlotCurrentIndex:M&&M.index,component:0,onToggleModal:u,pinId:ee,style:{size:"sm"},view:L,viewParameter:D,useLegoStyles:!0})})})})});return"equally-spaced"===_?(0,T.jsxs)(f.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),e?te:Q,e?Q:te]}):(0,T.jsxs)(f.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,T.jsx)(f.xu,{flex:"shrink",children:J}),(0,T.jsx)(f.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:C?void 0:{__style:X},children:(0,T.jsxs)(f.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?te:Q,e?Q:te,I&&(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:C?void 0:{__style:q},children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(S,{feedbackData:t,feedbackType:i,pin:p,pinTitle:h,setForcePrimary:E})})})})})]})})]})}));var R=i(966338),b=i(834911),O=i(811403),N=i(407043);function C({direction:e,swipeHandler:t}){const i=(0,l.ZP)(),n={left:i._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:i._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,T.jsx)(f.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,T.jsx)(f.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,T.jsx)(f.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,T.jsx)(f.JO,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const w=(0,R.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,i)=>e((0,O.yR)(t,i))}}))((({pin:e,changeCarouselSlotIndex:t})=>{const{logContextEvent:i}=(0,N.v)(),{componentType:n,viewParameter:a,viewType:s}=(0,c.E)(),r=(0,b.Z)({pin:e});if(!r)return null;const{id:l=""}=e,{carousel_slots:d=[],index:_=0,id:u}=r;function p(o){return()=>{const r="left"===o?_-1:_+1;t(l,r),((t=0,o)=>{i({event_type:108,object_id_str:l,component:n,view_type:s,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},aux_data:{...(0,I.Kl)(e)||{}}})})(_,r)}}return(0,T.jsxs)(f.xu,{height:"100%",position:"relative",width:"100%",children:[_>0&&(0,T.jsx)(o.Z,{children:(0,T.jsx)(C,{direction:"left",swipeHandler:p("left")})}),_<d.length-1&&(0,T.jsx)(o.Z,{children:(0,T.jsx)(C,{direction:"right",swipeHandler:p("right")})})]})}));var D=i(923219),L=i(116303);function M({accessibilityLabel:e,attributionNameLink:t,avatarUrl:i,fullWidth:n=!0,name:o="",onClick:a,outline:s=!1,size:r=32}){const l=(0,T.jsx)(f.xu,{"data-test-id":"attribution-avatar",height:r,width:r,children:(0,T.jsx)(L.Z,{name:o,src:i,accessibilityLabel:e,outline:s})});return t?(0,T.jsx)(f.iP,{fullWidth:n,role:"link",href:t,onTap:a,children:l}):l}var k=i(217468);function j({isHover:e,attributionNameLink:t,name:i,onClick:n,regularWeight:o}){const{anyEnabled:a}=(0,k.aq)("web_disable_ads_blocker",!t);return(0,T.jsx)(f.xu,{children:(0,T.jsx)(f.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:t?(0,T.jsx)(f.rU,{onClick:n,href:t,children:i}):a?(0,T.jsx)("span",{children:i}):i})})}function G({isHover:e,link:t,onClick:i,title:n,weight:o}){return n?(0,T.jsx)(f.xv,{inline:!0,underline:e,size:"200",weight:o,children:t?(0,T.jsx)(f.rU,{onClick:i,href:t,children:n}):n}):null}var B=i(993786),U=i(480622);function F({attributionNameLink:e,attributionTitle:t,avatarUrl:i,display:o="default",isPromotedByPinCreator:a,pin:r,name:l,url:d,verifiedIdentity:c,isVerifiedMerchant:_}){const u=(0,U.f)(),[p,h]=(0,n.useState)(!1),{id:E,sponsorship:I,story_pin_data_id:P}=r,{isPromoted:g}=(0,s.Z)(r),{creator:A}=I||{},{id:y}=A||{},S=!!P,v=(0,m.Z)(101,{view_type:3,element:g?283:27,object_id_str:E,component:S?230:void 0,aux_data:{...y?{creator_id:y,pin_id:E}:{}}}),x=()=>{u.setMostRecentPinId(E),v()},R=()=>{h((e=>!e))},b=d&&!e,O="overlay"===o,N=(0,T.jsxs)(f.xu,{alignItems:"center",display:O?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,T.jsx)(f.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:O?"flex":void 0,justifyContent:"center",children:(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:O?{__style:{marginTop:-45}}:void 0,children:(0,T.jsx)(M,{attributionNameLink:e,avatarUrl:i,name:l,onClick:()=>x(),accessibilityLabel:"",size:O?64:32,outline:O})})}),(0,T.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:O?"flex":void 0,justifyContent:"center",marginTop:O?2:void 0,children:[(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,T.jsxs)(f.kC,{gap:1,children:[(0,T.jsx)(j,{attributionNameLink:e,name:l,onClick:()=>x(),regularWeight:!(g&&!I||a),isHover:p}),(0,T.jsx)(B.Z,{size:"sm",hasVerifiedIdentity:c,isVerifiedMerchant:_})]})}),(0,T.jsx)(G,{isHover:p,title:t,weight:"normal"})]})]});return b?(0,T.jsx)(f.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),x()},href:d,onMouseEnter:R,onMouseLeave:R,children:N}):N}var z=i(333070),H=i(122016),Z=i(333312),V=i(946244),W=i(674578),Y=i(19121),K=i(978698),X=i(535095),$=i(281615),q=i(622403);function J({board:e,favoriteCount:t,favorited:i,pinId:o}){const{logContextEvent:a}=(0,N.v)(),s=(0,R.useDispatch)(),{slotIndex:r}=(0,c.E)(),{currentFilter:l,eligibleFilters:d,refreshData:_=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=(0,q.s)(),h=(0,n.useRef)(null),E=(0,Y.Z)(),m=(0,H.Z)(E,e),I=l===X.Ac&&(!t||1===t),P=(0,K.E)(d,X.Ac),g=e=>{a({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:m?3069:3070})};return(0,T.jsxs)(n.Fragment,{children:[(0,T.jsx)(f.xu,{ref:h,children:(0,T.jsx)(V.Z,{favorited:i,favoriteCount:t,onFavorite:()=>{g(!0),P&&_(),p&&p(!0)},onUnfavorite:()=>{g(!1),e&&I&&s((0,W.Z)({feedId:u||e.id,feedType:u?$.DV.SECTION_PINS:$.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!i&&!u&&0===r&&(0,T.jsx)(f.mh,{children:(0,T.jsx)(Z.Z,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Q=i(850115),ee=i.n(Q),te=i(379507),ie=i.n(te),ne=i(637956),oe=i.n(ne),ae=i(694379),se=i(909745),re=i.n(se),le=i(128206),de=i.n(le),ce=i(681227);const _e={goodIdea:ee(),love:oe(),thanks:re(),wow:de(),haha:ie()},ue={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},pe=["CreatorProfileStoryPinGrid"];const he=function({alignment:e="start",pinId:t,pinner:i,reactionCounts:n,surface:o}){const a=(0,Y.Z)(),s=n?(0,ce.At)(n):null,r=n?(0,ce.Ud)(n):0,l=Boolean(a.isAuth&&(null==i?void 0:i.id)===a.id),d=!!s&&s.length>0&&s.map(((e,t)=>{const i=_e[ue[e]];return(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,T.jsx)(f.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),c=!!d&&(0,T.jsx)(f.iP,{role:"link",href:`/pin/${t}/`,children:(0,T.jsxs)(f.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,T.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,T.jsx)(f.xu,{paddingX:1,children:(0,T.jsx)(f.xv,{size:"200",children:(0,T.jsx)(ae.Z,{value:r,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),_=l&&pe.includes(o)&&(0,T.jsx)(f.xu,{height:24});return c||_};var Ee=i(36296),me=i(864537);function Ie({feedbackType:e,pin:t}){const i=(0,l.ZP)(),{pinner:n,source_interest:o}=t,{full_name:a,username:s}=n||{},{name:r}=o||{},d="topic"===e,c=!d&&"followed"===e,_=`/${s}/`,u=(0,me.NO)(r),p=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,h=d?p:_,E={topic:i._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:i._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:i._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:i._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!E)return null;if(c||d){const e=0===E.indexOf("{"),t=d?r:a,i=e?E.slice(E.indexOf("}")+1):E.slice(0,E.indexOf("{"));return e?(0,T.jsxs)(f.xu,{children:[(0,T.jsx)(f.rU,{inline:!0,href:h,underline:"hover",children:(0,T.jsx)(f.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})}),(0,T.jsx)(f.xv,{inline:!0,size:"200",children:i})]}):(0,T.jsxs)(f.xu,{children:[(0,T.jsx)(f.xv,{inline:!0,size:"200",children:i}),(0,T.jsx)(f.rU,{inline:!0,href:h,underline:"hover",children:(0,T.jsx)(f.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})})]})}return(0,T.jsx)(f.xu,{children:(0,T.jsx)(Ee.Z,{pin:t,children:(0,T.jsx)(f.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:E})})})}var Pe=i(595342),fe=i(955362),Te=i(397066),ge=i(48714);function Ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ye extends n.Component{constructor(...e){super(...e),Ae(this,"state",{spamCheck:null}),Ae(this,"mounted",!1),Ae(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:i,url:n}=this.props;n&&t&&(0,ge.$3)({location:e,pin:t,surface:i})&&(0,ge.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:n})})),Ae(this,"handleClick",(e=>{const{auxData:t,location:i,onClick:n,pin:o,pinId:a,url:s,logContextEvent:r}=this.props;(0,ge.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),n&&n(e),s&&(0,Te.h)({href:s,pinId:a,pin:o,location:i,auxData:t},r))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:t}=this.props;return(0,T.jsx)("a",{href:t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Se=(0,R.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),(()=>({})))((function(e){const{logContextEvent:t}=(0,N.v)();return(0,T.jsx)(ye,{...e,history:(0,P.k6)(),location:(0,P.TH)(),logContextEvent:t,match:(0,P.$B)()})}));function ve(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:i}=window.prefetchCompletion[e];return i?(t/i*100).toFixed(3).toString():"-1"}var xe=i(941646),Re=i(305689);function be({children:e,componentType:t,contextLogData:i,pin:n,surface:o,viewParameter:a,viewType:s}){const{logContextEvent:r}=(0,N.v)(),l=(0,c.E)(),{ad_destination_url:d,carousel_data:_,id:u,link:p,tracked_link:h}=n;let E,m=d||h||p||"",I="one-tap-desktop";if(_){const{carousel_slots:e=[],id:t,index:i=0}=_;e[i]&&e[i].link&&(m=e[i].link),E={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:t,carousel_slot_index:i},I+="-carousel"}return(0,T.jsx)(f.xu,{"data-test-id":"otpp",children:(0,T.jsx)(xe.Z,{id:I,children:(0,T.jsx)(Se,{auxData:E,onClick:()=>{const e=(0,Re.cv)();r({event_type:12,view_type:s||l.viewType,view_parameter:a||l.viewParameter,component:t||l.componentType,object_id_str:u,aux_data:{...i,grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:ve(p||"")}}),r({event_type:8948,view_type:s||l.viewType,view_parameter:a||l.viewParameter,component:t||l.componentType,object_id_str:u,aux_data:{...i,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:ve(p||"")}}),r({event_type:13,object_id_str:u,component:t||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...i}}),r({event_type:13,...e})},pinId:u,surface:o,url:m,children:e})})})}var Oe=i(984405);function Ne(e){const{pin:t,surface:i}=e,{isOneTap:n,isVideo:o,isPromoted:a,isLeadPin:r}=(0,s.Z)(t),l=(0,k.tc)("web_no_tap_tap"),d=!r&&(n||o&&a&&l().anyEnabled)?be:Ee.Z;return(0,T.jsx)(d,{surface:n?i:void 0,...(0,Oe.Z)(e,["surface"])})}function Ce({pin:e,pinNoteText:t}){return(0,T.jsx)(Ne,{pin:e,children:(0,T.jsx)(f.xv,{lineClamp:1,overflow:"normal",size:"200",children:t})})}var we=i(483296),De=i(81226);function Le({value:e,valueFormat:t}){const i=(0,l.ZP)();return e||0===e?"TIME"===t?(0,De.Z)(e):(0,T.jsx)(ae.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,T.jsx)(f.u,{idealDirection:"up",text:i._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:"—"})}var Me=i(578722);function ke({pin:e}){var t;const i=(0,l.ZP)(),n=(0,Y.Z)(),{isStoryPin:o,isVideo:a}=(0,s.Z)(e),r=n.isAuth&&(null===(t=e.pinner)||void 0===t?void 0:t.id)===n.id&&!e.is_repin,d=n.isAuth&&n.isPartner,c=(0,Me.iL)({isOwnPin:r,isPartner:d}),_=(0,Me.H1)({isOwnPin:r,isPartner:d}),u=e.created_at?new Date(e.created_at):null,p=(c||_)&&u&&u.getTime()<=Me.HW.getTime(),h=c?function(e){const{public_creator_analytics:t}=e,{isStoryPin:i}=(0,s.Z)(e);return i&&t?t:null}(e):function(e){const{aggregated_pin_data:t,creator_analytics:i}=e,{creator_analytics:n}=t||{},{isStoryPin:o}=(0,s.Z)(e);return!i||!o&&n?n:i}(e),E=(0,we.ZP)({isVideo:a,isStoryPin:o,i18n:i,showPublicPinStats:c,showPrivateFullScreenPinStats:_}),m=a||o?null==h?void 0:h.all_time_realtime:null==h?void 0:h["30d_realtime"];return(0,T.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:E.map((({align:e,displayText:t,field:i,iconType:n,iconSize:o=12,valueFormat:a})=>(0,T.jsxs)(f.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,T.jsx)(f.xu,{display:"inlineBlock",marginEnd:1,children:(0,T.jsx)(f.JO,{accessibilityLabel:t,color:"default",icon:n,size:o})}),(0,T.jsx)(f.xv,{inline:!0,size:"200",children:(0,T.jsx)(Le,{value:"full_screen_play"===i&&p?null:null==m?void 0:m[i],valueFormat:a})})]},i)))})}function je({currentPrice:e,originalPrice:t,pin:i,surface:n}){const o=t&&t!==e;return(0,T.jsx)(Ne,{pin:i,surface:n,children:(0,T.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,T.jsx)(f.xv,{color:o?"shopping":"subtle",size:"200",weight:"bold",children:e}),o&&(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,T.jsx)(f.xv,{color:"subtle",size:"200",weight:"bold",children:t})})]})})}var Ge=i(883561),Be=i(403001);function Ue({pin:e,surface:t}){return(0,T.jsx)(Ne,{pin:e,surface:t,children:(0,T.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:(0,T.jsx)(f.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:(0,Be.Z)(e,t)})})})}var Fe=i(655747);function ze({numberOfLines:e=2,pin:t,pinTitle:i,surface:n}){return(0,T.jsx)(f.xv,{color:"default",lineClamp:e,size:"200",weight:"bold",children:(0,T.jsx)(Ne,{pin:t,surface:n,children:i})})}var He=i(601230);const Ze={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${He.X}ms ease`},visible:{opacity:1}}};function Ve({attributionDisplay:e,attributionType:t,board:i,feedbackData:o,feedbackType:a,hasTextContent:r,hasTitleOrSource:d,hoverTransitionState:c,pin:_,pinNoteText:u,pinTitle:p,productCurrentPrice:h,productOriginalPrice:E,reactionAlignment:I,setForcePrimary:P,showCarouselEllipsis:g,showFavoriteButton:A,showGroupBoardAvatar:y,showNativeReactions:S,showOverflowMenu:v,showPinStats:x,showSource:b,showTextContent:O,showTitle:N,showVerifiedIcon:C,surface:w,titleLines:D}){var L,j,B,U;const H=(0,l.ZP)(),Z=(0,Y.Z)(),V=(0,R.useDispatch)(),{favorited_by_me:W,favorite_user_count:K,id:X,pinner:$,reaction_counts:q,sponsorship:Q,story_pin_data:ee}=_,{has_affiliate_products:te}=ee||{},ie=function(e,t,i){var n,o,a,r;const{board:l,link_domain:d={},promoter:c,sponsorship:_,native_creator:u}=e,{sponsor:p}=_||{},{isPromoted:h}=(0,s.Z)(e),{official_user:E}=d||{},m=h&&!!_&&(null==u?void 0:u.id)!==(null==c?void 0:c.id),I=e.pinner||{};let P="",f="",T="",g="",A="",y="",S=!1,v=!1;var x,R,b,O,N,C;if(m)P=null!==(x=null!==(R=null==u?void 0:u.image_medium_url)&&void 0!==R?R:null==u?void 0:u.image_small_url)&&void 0!==x?x:"",f=`/${null!==(b=null==u?void 0:u.username)&&void 0!==b?b:""}/`,T=null==c?void 0:c.full_name,g=null==u?void 0:u.full_name,y=`/${null!==(O=null==u?void 0:u.username)&&void 0!==O?O:""}/`,A=`/${null!==(N=null==c?void 0:c.username)&&void 0!==N?N:""}/`,S=null==u||null===(C=u.verified_identity)||void 0===C?void 0:C.verified,v=null==u?void 0:u.is_verified_merchant;else if(h&&c)P=c.image_medium_url||c.image_small_url,T=c.full_name,g=i._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),y=`/${c.username}/`;else if(_&&null!=p&&p.username){var w,D,L,M,k,j;P=null!==(w=null!==(D=null!==(L=null==u?void 0:u.image_large_url)&&void 0!==L?L:null==u?void 0:u.image_medium_url)&&void 0!==D?D:null==u?void 0:u.image_small_url)&&void 0!==w?w:"",f=`/${null!==(M=null==u?void 0:u.username)&&void 0!==M?M:""}/`,T=p.full_name,g=null==u?void 0:u.full_name,y=`/${null!==(k=null==u?void 0:u.username)&&void 0!==k?k:""}/`,A=`/${p.username}/`,S=null==u||null===(j=u.verified_identity)||void 0===j?void 0:j.verified,v=null==u?void 0:u.is_verified_merchant}else if(u){var G,B,U,F,z;P=null!==(G=null!==(B=null!==(U=u.image_large_url)&&void 0!==U?U:u.image_medium_url)&&void 0!==B?B:u.image_small_url)&&void 0!==G?G:"",g=u.full_name,y=`/${null!==(F=u.username)&&void 0!==F?F:""}/`,S=null===(z=u.verified_identity)||void 0===z?void 0:z.verified,v=u.is_verified_merchant}else if("show-for-claimed-content"===t){var H,Z,V,W;null!=E&&E.is_primary_website_verified&&E.username&&(P=null!==(H=null!==(Z=null!==(V=E.image_large_url)&&void 0!==V?V:E.image_medium_url)&&void 0!==Z?Z:E.image_small_url)&&void 0!==H?H:"",g=E.full_name,y=`/${E.username}/`,S=null===(W=E.verified_identity)||void 0===W?void 0:W.verified,v=E.is_verified_merchant)}else{var Y,K,X,$;P=null!==(Y=null!==(K=null!==(X=I.image_large_url)&&void 0!==X?X:I.image_medium_url)&&void 0!==K?K:I.image_small_url)&&void 0!==Y?Y:"",f=`/${I.username}/`,g=I.full_name,y=l?l.url:"",S=null===($=I.verified_identity)||void 0===$?void 0:$.verified,v=I.is_verified_merchant}return{avatarUrl:null!==(n=P)&&void 0!==n?n:"",attributionNameLink:f,attributionTitle:null!==(o=T)&&void 0!==o?o:"",name:null!==(a=g)&&void 0!==a?a:"",sponsorUrl:A,url:null!==(r=y)&&void 0!==r?r:"",verifiedIdentity:!!S,isVerifiedMerchant:!!v}}(_,t,H),{avatarUrl:ne,attributionNameLink:oe,attributionTitle:ae,name:se,sponsorUrl:re,url:le,verifiedIdentity:de,isVerifiedMerchant:ce}=ie,_e=!!_.promoter&&!_.is_downstream_promotion,ue=_e&&(null===(L=_.native_creator)||void 0===L?void 0:L.id)===(null===(j=_.promoter)||void 0===j?void 0:j.id),pe=(0,m.Z)(101,{view_type:3,element:27,object_id_str:X,component:_.story_pin_data_id?230:void 0,aux_data:{pin_id:X,...null!=Q&&null!==(B=Q.creator)&&void 0!==B&&B.id&&null!==(U=Q.sponsor)&&void 0!==U&&U.id?{creator_id:Q.creator.id,sponsor_id:Q.sponsor.id}:{}}}),Ee=e=>V(Ee(e)),me=(0,k.tc)("web_ag_msg_pin_card_update"),Te="ConversationView"===w&&me({dangerouslySkipActivation:!0}).anyEnabled,ge=!ue&&Q?(0,T.jsx)(G,{link:re||le,onClick:()=>(Ee(X),void pe()),title:(0,Ge.ZP)(ae,20),weight:"bold"},`${_.id}-sponsor-name-link`):null,Ae="ConversationView"===w&&Te?{padding:"8px"}:Ze.container;return(0,T.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:Ae},children:[g&&(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:d||y||"none"!==t?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,T.jsx)(z.default,{pinId:X})}),x&&(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,T.jsx)(ke,{pin:_})}),(0,T.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:(0,T.jsxs)(f.xu,{flex:"grow",children:[(!!Q||te&&!_e)&&!ue&&(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(f.xu,{flex:"grow",overflow:"hidden",children:(0,T.jsx)(Fe.Z,{hasAffiliateProducts:te,isPromoted:_e,sponsorName:ge,sponsorshipStatus:null==Q?void 0:Q.status})})}),(O&&r||A)&&(0,T.jsxs)(f.xu,{marginBottom:1,children:[(E||h)&&(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(je,{currentPrice:h,originalPrice:E,pin:_,surface:w})}),A?(0,T.jsxs)(f.kC,{alignItems:"start",children:[(0,T.jsx)(f.kC,{flex:"grow",children:(0,T.jsx)(ze,{numberOfLines:D,pin:_,pinTitle:p,surface:w})}),(0,T.jsx)(f.xu,{marginStart:3,children:(0,T.jsx)(J,{board:i,favorited:!!W,favoriteCount:null!=i&&i.is_collaborative&&(0,Pe.Z)({board:i,viewer:Z})?null!=K?K:0:void 0,pinId:X})})]}):N&&(0,T.jsx)(ze,{numberOfLines:D,pin:_,pinTitle:p,surface:w}),b&&(0,T.jsx)(f.xu,{marginBottom:2,children:(0,T.jsx)(Ue,{pin:_,surface:w})})]}),(0,T.jsxs)(f.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(f.xu,{flex:"grow",children:(()=>{const i=(0,T.jsx)(F,{attributionNameLink:oe,attributionTitle:_e&&!Q||ue?ae:"",avatarUrl:ne,display:e,isPromotedByPinCreator:!!ue,isVerifiedMerchant:C&&ce,name:se,pin:_,url:le,verifiedIdentity:C&&de});switch(t){case"none":return null;case"image-only-credit":return(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:Ze.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,T.jsx)(Ie,{pin:_,feedbackType:a})});default:return Object.values(ie).some((e=>Boolean(e)))?i:null}})()}),v&&(0,T.jsx)(f.xu,{flex:"none",children:(0,T.jsx)(fe.default,{feedbackData:o,feedbackType:a,pin:_,pinTitle:p,setForcePrimary:P,transparentBackground:!0})})]}),S&&!!q&&Object.keys(q).length>0&&(0,T.jsx)(f.xu,{marginTop:"ConversationView"===w&&Te?2:void 0,children:(0,T.jsx)(he,{alignment:I,pinId:X,pinner:$,reactionCounts:q,surface:w})}),u&&(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(Ce,{pin:_,pinNoteText:u})}),y&&!A&&(0,T.jsx)(f.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,T.jsxs)(n.Fragment,{children:[(0,T.jsx)(M,{attributionNameLink:oe||le,avatarUrl:ne,fullWidth:!1,name:se}),(0,T.jsx)(f.xu,{marginStart:2,flex:"grow",children:(0,T.jsx)(f.xv,{size:"200",children:se})})]})})]})})]})}var We=i(149230),Ye=i(104389);const Ke=(0,n.lazy)((()=>i.e(33168).then(i.bind(i,512151)))),Xe=(0,n.lazy)((()=>i.e(69221).then(i.bind(i,330650))));function $e({contentType:e,hasTextContent:t,pin:i,pinTitle:o,productCurrentPrice:s,productOriginalPrice:d,productRating:c,productShipping:_,showSource:u,showVisitSiteButton:p,surface:h,titleLines:E}){var m;const{logContextEvent:P}=(0,N.v)(),g=(0,l.ZP)(),A=(0,k.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:y,group:S}=A({dangerouslySkipActivation:!0}),v=(null===(m=i.rich_summary)||void 0===m?void 0:m.url)||i.link;"shopping"!==e||S.includes("pwt")||A();const x=(0,We.Z)({url:v})?"nofollow":"none";return(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:Ze.productContainer},height:"100%",children:(0,T.jsx)(f.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,T.jsxs)(n.Fragment,{children:[(0,T.jsxs)(f.xu,{children:[(d||s)&&(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(je,{currentPrice:s,originalPrice:d,pin:i,surface:h})}),(0,I.qN)(i)&&(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(Ke,{})})})}),(0,I.SP)(i)&&(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(Xe,{})})})}),(0,T.jsx)(f.xu,{marginBottom:1,children:(0,T.jsx)(ze,{numberOfLines:E,pin:i,pinTitle:o,surface:h})}),u&&(0,T.jsx)(Ue,{pin:i,surface:h}),"shopping"===e&&y&&(c||Number.isFinite(null==_?void 0:_.free_shipping_value))&&(0,T.jsx)(Ye.Z,{count:null==c?void 0:c.count,countFormat:"number",isGridView:!0,ratingValue:null==c?void 0:c.rating,shippingInfo:_})]}),p&&v?(0,T.jsx)(f.xu,{marginTop:2,children:(0,T.jsx)(f.zx,{role:"link",fullWidth:!0,href:v,rel:x,onClick:()=>{P({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:g._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const qe=(0,n.memo)((function({attributionDisplay:e,attributionType:t,blockClickEvents:i,board:n,contentType:a,feedbackData:s,feedbackType:r,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:_,productCurrentPrice:u,productOriginalPrice:p,reactionAlignment:h,productRating:E,productShipping:m,setForcePrimary:I,showCarouselEllipsis:P,showFavoriteButton:g,showGroupBoardAvatar:A,showNativeReactions:y,showOverflowMenu:S,showPinStats:v,showSource:x,showTextContent:R,showTitle:b,showVerifiedIcon:O,showVisitSiteButton:N,surface:C,titleLines:w}){const D=_||x,L="shopping"===a?(0,T.jsx)($e,{contentType:a,hasTextContent:!!D,pin:d,pinTitle:_,productCurrentPrice:u,productOriginalPrice:p,productRating:E,productShipping:m,showSource:x,showVisitSiteButton:N,surface:C,titleLines:w}):(0,T.jsx)(Ve,{attributionDisplay:e,attributionType:t,board:n,feedbackData:s,feedbackType:r,hasTextContent:!!D,hasTitleOrSource:!!D,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:_,productCurrentPrice:u,productOriginalPrice:p,reactionAlignment:h,setForcePrimary:I,showCarouselEllipsis:P,showFavoriteButton:g,showGroupBoardAvatar:A,showNativeReactions:y,showOverflowMenu:S,showPinStats:v,showSource:x,showTextContent:R,showTitle:b,showVerifiedIcon:O,surface:C,titleLines:w});return i?(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:L}):(0,T.jsx)(f.kC,{flex:"grow",children:(0,T.jsx)(o.Z,{fullWidth:!0,children:L})})}));var Je=i(275727),Qe=i(266413),et=i(543398);const tt=(0,n.lazy)((()=>i.e(34979).then(i.bind(i,91540)))),it=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(14166),i.e(85314),i.e(43473)]).then(i.bind(i,256355)))),nt=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(14166),i.e(77638),i.e(85314),i.e(22347)]).then(i.bind(i,442563)))),ot=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(69965),i.e(22538)]).then(i.bind(i,450564)))),at=(0,n.lazy)((()=>i.e(1593).then(i.bind(i,331806))));function st({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:i,onToggleFlyout:s,onToggleModal:l,pin:d}){const{id:_,savedInfo:u}=d,p=(0,n.useRef)(!!u),h=(0,R.useSelector)((({experiences:e})=>{const t=e[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:E}=(0,et.tY)(i);void 0!==E&&["classic","controlled","inline"].includes(e.type)&&(e=E);const{viewParameter:I,viewType:P}=(0,c.E)(),g=(0,m.Z)(101,{element:0,object_id_str:_});let A=null;const y={onToggleModal:s,view:P,viewParameter:I,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(h||i&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:n}=e;A=(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(ot,{experience:h||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:n,showEnabledSaveBehavior:i,viewParameter:I})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;A=(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(it,{onClickCallback:g,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!u&&(0,T.jsx)(o.Z,{children:(0,T.jsx)(Qe.Z,{isNewlySaved:!p.current,name:u.title,type:u.type,url:u.url})}),variant:"lego",viewParameter:I})})})})})}else if("inline"===e.type){const t=d,{initialSelection:i,onSave:n,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:_}=e;A=(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"better-save",children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(nt,{initialSelection:i,onSave:n,onToggleFlyout:s,onToggleModal:l,pin:t,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,T.jsx)(o.Z,{children:(0,T.jsx)(Qe.Z,{isNewlySaved:!p.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:I,hideDropdown:_})})})})})}else"persistentOneClickSave"===e.type?A=(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"persistent-one-click-save",children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(tt,{...y,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(A=(0,T.jsx)(f.kC,{alignItems:"stretch",justifyContent:"end",children:(0,T.jsx)(a.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,T.jsx)(r.Z,{children:(0,T.jsx)(f.xu,{"data-test-id":"pin-promote-button",children:(0,T.jsx)(o.Z,{children:(0,T.jsx)(at,{pin:d})})})})})}));return(0,T.jsx)(a.Z,{name:"PinRepPrimaryContent",children:(0,T.jsx)(f.xu,{display:"flex",margin:3,children:A&&(0,T.jsx)(f.xu,{marginStart:"auto",flex:"grow",children:A})})})}var rt=i(64446),lt=i(187767),dt=i(822119),ct=i(170861),_t=i(633197),ut=i(787410),pt=i(631286),ht=i(889981),Et=i(829407),mt=i(224496),It=i(775151),Pt=i(444445),ft=i(399707),Tt=i(494349),gt=i(428258),At=i(700622);var yt=i(335106);const St=(0,ut.Z)((function({isAutoplay:e,cropHeight:t,currentTime:i,onLoad:o,onError:a,videoBlock:s,pin:r,surface:d,playing:c,rootMargin:_,viewType:u,viewParameter:p,scaleFactor:h}){var E;const{id:m,is_promoted:I}=r,P=(0,l.ZP)(),[g,A]=(0,n.useState)(!0),y=!I,S=g;if(e&&c&&g&&A(!1),!s.video)return null;const{block_style:{height:v=100,width:x=100,x_coord:R=0,y_coord:b=0}={},video:O}=s,{hlsv3:N,mp4:C}=(0,gt.Z)(O)||{},w=C||N||{},D=(null===(E=s.video)||void 0===E?void 0:E.id)||r.id,{thumbnail:L,url:M,width:k,height:j}=w,G=(null!=k?k:1)/(null!=j?j:1),B=ft._B/(ft.l3/ft.e7),U=x*ft._B*h/100,F=v*B*h/100,z=R*ft._B*h/100,H=b*B*h/100,Z=x<100?Math.min(Math.max(100,x)-Math.abs(R),x):Math.min(Math.max(x-Math.abs(R),0),100),V=(v<100?Math.min(Math.max(100,v)-Math.abs(b),v):Math.min(Math.max(v-Math.abs(b),0),100))*B*h/100,W=Z*ft._B*h/100,Y=Math.max(b,0)*B*h/100,K=Math.max(R,0)*ft._B*h/100,X=U/F,$={height:"100%",left:"0",top:"0",width:"100%"};if(Math.abs(X-G)>.01)if(X<G){const e=100*G/X;$.width=`${e}%`,$.left=`-${(e-100)/2}%`}else if(X>G){const e=100*X/G;$.height=`${e}%`,$.top=`-${(e-100)/2}%`}const q=S?(0,T.jsx)(_t.Z,{onError:a,onLoad:o,pin:r}):(0,T.jsx)(f.xu,{height:V,overflow:"hidden",position:"relative",children:(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{left:K,top:Y}},height:V,overflow:"hidden",position:"absolute",width:W,children:(0,T.jsx)(f.xu,{height:F,overflow:"hidden",position:"relative",width:U,children:(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{left:z<0?z:0,top:H<0?H:0}},height:"100%",position:"absolute",width:"100%",children:(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:$},position:"absolute",children:(0,T.jsx)(At.ZP,{onError:a,isAutoPlay:!!e,cropHeight:t,rootMargin:_,surface:d,inAdsDesktopVideoExperiment:!0,contextLogData:{viewParameter:p,component:0,objectId:m,video_id:D,view:u},accessibilityMaximizeLabel:P._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:P._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:P._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:P._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:P._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:P._('Progress bar', 'PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:P._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:(null!=k?k:1)/(null!=j?j:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:i||-1},loop:y,playing:c,poster:L,src:null!=M?M:"",videoStartTime:i,volume:0})})})})})});return(0,T.jsx)(f.xu,{children:q})}));function vt({fonts:e,onLoad:t,pin:i,currentTime:o,onError:a,cropHeight:s,surface:r,viewParameter:l,viewType:d,rootMargin:c,highResOnly:_,lowResOnly:u,saved:p,blocks:h}){const[E,m]=(0,n.useState)(!1),{appUI:{appInFocus:I,isAutoplay:P,videosAutoplaying:g},pauseAutoplay:A,setCurrentVideo:y}=(0,Tt.I)(),{id:S,is_promoted:v}=i,x=(0,yt.i8)(S,g);(0,Et.Z)((()=>(null==t||t(),(()=>{if(e&&Object.keys(e).length>0){const t=Object.keys(e).map((t=>{const i=e[t];return(0,It.d3)({letterSpacing:i.letter_spacing,lineHeight:i.line_height,name:i.name,url:i.url})}));(0,pt.Z)(t),m(!0)}})(),()=>{(0,yt.i8)(S,g)&&A({pinId:S,isPromoted:Boolean(v),currentTime:o})})));const R=()=>(0,yt.X9)(S,g)||o,b=(0,n.useRef)(!1);!I&&x?(b.current=!0,A({pinId:S,isPromoted:Boolean(v),currentTime:o})):b.current&&I&&(b.current=!1,y({pinId:S,isPromoted:Boolean(v),currentTime:R()}));const O=e=>{const t=(0,yt.i8)(S,g),i=(0,yt.DP)(S,g);e?v?y({pinId:S,isPromoted:v,currentTime:R()}):i&&y({pinId:S,isPromoted:Boolean(v),currentTime:R()}):!e&&t&&A({pinId:S,isPromoted:Boolean(v),currentTime:o})};return(0,T.jsx)(f.xu,{"data-test-id":"pinrep-story-blocks",children:h.map(((e,n)=>((e,n)=>{const o=(0,yt.X9)(S,g),h=(0,yt.i8)(S,g)&&P,m=("AuthHomefeed"===r?Pt.xf:256)/ft._B;switch(e.type){case mt.h8.VIDEO:return(0,T.jsx)(St,{cropHeight:s,rootMargin:c,currentTime:o,inAdsDesktopVideoExperiment:!0,isAutoplay:P,viewParameter:l,viewType:d,onVisibilityChanged:O,videoBlock:e,pin:i,surface:r,playing:h,trackFullVisible:!1,highResOnly:_,lowResOnly:u,onError:a,onLoad:t,saved:p,scaleFactor:m},n);case mt.h8.PARAGRAPH:case mt.h8.HEADING:return(0,T.jsx)(ht.Z,{block:e,fontsLoaded:E,scaleFactor:m},n);default:return null}})(e,n)))})}var xt=i(830413);function Rt({onError:e,onLoad:t,pin:i,autoplaySettingOff:n,saved:o,cropHeight:a,surface:s,rootMargin:r,viewParameter:l,viewType:d}){var c,_;const u=(null===(c=i.story_pin_data)||void 0===c||null===(_=c.pages)||void 0===_?void 0:_[0].blocks)||[],p=[],h=[],E={};let m=!1;for(const P of u)if(xt.Y.includes(P.type))if(P.type===mt.h8.PARAGRAPH||P.type===mt.h8.HEADING){var I;p.push(P);const e=(null===(I=P.style)||void 0===I?void 0:I.font)||mt.Cc.font,{name:t=""}=e;E[t]||(E[t]=e)}else h.push(P),P.video&&(m=!0);return h.push(...p),!n&&m?(0,T.jsx)(vt,{onError:e,onLoad:t,cropHeight:a,rootMargin:r,blocks:h,surface:s,viewType:d,viewParameter:l,pin:i,saved:o,fonts:E}):(0,T.jsx)(_t.Z,{onError:e,onLoad:t,pin:i})}var bt=i(326255);const Ot={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Nt({isSelected:e}){const t=(0,l.ZP)();return(0,T.jsx)(f.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?Ot:{},children:(0,T.jsx)(f.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,T.jsx)(f.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,T.jsx)(f.JO,{accessibilityLabel:t._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"white",icon:"check",size:12})})})})}var Ct=i(124364),wt=i(802933),Dt=i(615873),Lt=i(800262),Mt=i(172071);const kt={},jt=e=>{Mt.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,p.Z)(e);return new Promise(((i,n)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(Mt.Z.increment("web_prefetch_via_xhr.saveDataOn",1),i()),/2g/.test(e.effectiveType)&&(Mt.Z.increment("web_prefetch_via_xhr.poorConnection",1),i())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(kt[e]&&(kt[e].loaded=!0),Mt.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),i(o.response)):(Mt.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),n())},kt[e]||(o.send(),kt[e]={added:!0,xhr:o},Mt.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},Gt={},Bt=(e,t)=>{const i="string"==typeof e?e:e.url;if(t&&i){const e="control"===t?"v1.pinimg.com":"v2.pinimg.com";return i.replace("v.pinimg.com",e)}return i};function Ut(e,t){return(Bt("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Ft(e){const{id:t}=e;t&&Gt[t]&&Gt[t].length>0&&Gt[t].forEach((e=>{(e=>{kt[e]&&kt[e].xhr&&!kt[e].loaded&&(Mt.Z.increment("web_prefetch_abort_xhr",1),kt[e].xhr.abort(),kt[e].aborted=!0)})(e)}))}function zt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:i,imageFit:o,isDenseView:a,isHovering:r,isSocialSeasonalBoard:l=!1,onError:d,onLoad:u,pin:p,pinImageCrop:h,resolution:E="default",rootMargin:m,selectionState:I,showCarousel:P,showPromotedVideos:g,showUnavailablePin:A,surface:y}){const{contextLogData:S,slotIndex:v,viewParameter:x,viewType:R}=(0,c.E)(),{group:b}=(0,k.aq)("web_prefetch_video_in_feed"),{id:O="",aggregated_pin_data:N,image_signature:C,story_pin_data:w}=p,{pin_tags_chips:D}=N||{},{isOneTap:L,isVideo:M,isPromoted:j,isGif:G}=(0,s.Z)(p),{cropHeight:B,cropWidth:U}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let F=!1;if(w){var z,H;const e=null===(z=w.pages)||void 0===z?void 0:z[0],t=null==e||null===(H=e.blocks)||void 0===H?void 0:H.find((e=>3===e.block_type));F=!(null==t||!t.video)}const{anyEnabled:Z}=(0,k.aq)("web_idea_pin_video_autoplay",F);let V=null;if(A)V=(0,T.jsx)(Ct.Z,{isDenseView:a,height:a?250:420,rounding:0,width:a?164:236});else if(e||!M||!g&&j||"BoardCoverSelectablePin"===y)if(P)V=(0,T.jsx)(f.xu,{"data-test-id":"pinrep-carousel",children:(0,T.jsx)(dt.Z,{cropHeight:B,cropWidth:U,onError:d,onLoad:u,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,pinId:O,showCarouselBadge:!1,pin:p})});else if(Z)V=(0,T.jsx)(f.xu,{"data-test-id":"pinrep-story",minHeight:55,children:(0,T.jsx)(Rt,{onLoad:u,onError:d,pin:p,cropHeight:B,rootMargin:m,surface:y,viewType:R,viewParameter:x,autoplaySettingOff:e})});else{const e="backend"===h?function({images:e,image_crop:t}){var i;const n=e&&(null===(i=e["236x"])||void 0===i?void 0:i.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:i=0}=t;return{marginTop:(e>0?-1*e*(null!=n?n:0):0)+"px",marginBottom:`${i<1?Math.round(-1*(1-i)*(null!=n?n:0)):0}px`}}return{}}(p):{};V=(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,T.jsx)(ct.Z,{animateGif:G&&l,cropHeight:B,cropWidth:U,fallbackColor:i,imageFit:o,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,mediumResOnly:"medium-res"===E,onLoad:u,onError:d,pin:p})})}else V=(0,T.jsx)(f.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:B||void 0,justifyContent:"center",children:(0,T.jsx)(bt.Z,{cropHeight:B,rootMargin:m,inAdsDesktopVideoExperiment:M&&g,pin:p,surface:y,onLoad:u,viewType:R,viewParameter:x,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,onError:d,isExperimentalPinRep:!0})});const W=(0,T.jsx)(f.zd,{wash:!0,children:(0,T.jsx)(_.Z,{hovered:r,pin:p,slotIndex:v,viewType:1,children:V})}),Y=["selected-image-only","deselected-image-only"].includes(I),K="selected-image-only"===I,X=(0,n.useRef)(!0),$=(0,n.useRef)(!1),q=(0,n.useRef)(!1),J=(0,k.aq)("web_video_quic").group;if((0,n.useEffect)((()=>{X.current||!r||L||t||$.current?r||!$.current||q.current||(Ft(w||p),q.current=!0):w?(!function(e,t){var i;const{id:n,pages:o,pages_preview:a}=e;if(!a&&!o)return;const s=a?a[0]:null==o?void 0:o[0],r=null==s||null===(i=s.blocks)||void 0===i?void 0:i.find((e=>3===e.block_type));if(r&&r.video){const{hlsv3:e,mp4:i}=(0,gt.Z)(r.video)||{},o=i||e;if(o&&n){var l;const e=null!==(l=Bt(o,t))&&void 0!==l?l:"";Gt[n]=Gt[n]?Gt[n].concat(e):[e],jt(e)}}}(w,J),$.current=!0):(!function(e,t){const{id:i,videos:n}=e,{video_list:o}=n||{},a=(0,wt.Z)({pin:e}),{video:s}=(0,Dt.Z)(a)||{},{hls:r,hlsv3:l}=s||{};if(o){const e=(0,gt.t)(o)||{},n=l||r||{};if(n.url){var d;const e=null!==(d=Bt(n.url,t))&&void 0!==d?d:"";Gt[i]=Gt[i]?Gt[i].concat(e):[e],jt(e).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".m3u8")))),n&&n[Lt.VS]){const e=Ut(n[Lt.VS],t);return Gt[i]=Gt[i].concat(e),jt(null!=e?e:"")}return null})).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".ts")))),n&&n[0]){const e=Ut(n[0],t);return Gt[i]=Gt[i].concat(e),jt(null!=e?e:"")}return null}))}else if(e.url){var c;const n=null!==(c=Bt(e.url,t))&&void 0!==c?c:"";jt(n),Gt[i]=Gt[i]?Gt[i].concat(n):[n]}}}(p,J),$.current=!0),X.current=!1}),[t,r,L,w,p,b,J]),t)return(0,T.jsxs)(n.Fragment,{children:[W,Y&&(0,T.jsx)(Nt,{isSelected:K}),D&&(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,T.jsx)(lt.Z,{pin:p,enableCloseupLink:!0})})]});const{commerce_data:Q,story_type:ee}=S||{},te=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(y);return(0,T.jsxs)(Ne,{contextLogData:{commerce_data:te?Q:void 0,grid_index:v,image_signature:C,story_type:ee},elementType:w?12372:35,pin:p,surface:y,children:[W,D&&(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,T.jsx)(lt.Z,{pin:p,enableCloseupLink:!1})})]})}var Ht=i(378396),Zt=i(894350),Vt=i(946984);const Wt=(0,Zt.Z)((({handleSendShareFlyoutButtonClick:e})=>{const t=(0,l.ZP)(),i=(0,Vt.Z)();return(0,T.jsx)(f.zx,{fullWidth:!0,onClick:i((({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()})),text:t._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:t._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function Yt(e){return e<160?"header-only":"none"}function Kt(e){const[t,i]=(0,n.useState)(e.current?Yt(e.current.clientHeight||0):"none");return function(e,t){const i=(0,n.useRef)();(0,n.useEffect)((()=>{const n=e.current;if(!n)return;const o=i.current;o&&o.width===n.offsetWidth&&o.height===n.offsetHeight||(i.current={width:n.offsetWidth||0,height:n.offsetHeight||0},t&&t(i.current))})),i.current}(e,(({height:e})=>{const n=Yt(e);n!==t&&i(n)})),t}var Xt=i(601156),$t=i(199534),qt=i(663136),Jt=i(222239),Qt=i(858358);const ei="#000000",ti="#ffffff";function ii({selected:e=!1}){const t=(0,l.ZP)(),{isRTL:i}=(0,d.B)();return(0,T.jsx)(f.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new f.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?ei:ti,borderRadius:Qt.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,T.jsx)(f.xu,{position:"absolute",bottom:!0,right:!i,left:i,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,T.jsx)(f.JO,{accessibilityLabel:t._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"white",size:12})}):(0,T.jsx)(f.xu,{right:!i,left:i,position:"absolute",top:!0,margin:3,children:(0,T.jsx)(f.JO,{accessibilityLabel:t._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"white",size:24})})})}const ni={wrapper:{borderRadius:Qt.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Qt.Dv.VISUAL},savedOverlay:{backgroundColor:Qt.Dv.SAVED},legoWashOverlay:{backgroundColor:Qt.Dv.LEGO_WASH}};function oi({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:i="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:o,primaryContent:a,primaryContentVisibility:s="none",secondaryContent:r,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:_,actionBarVisibility:u="none",seeStatsButton:p,footer:h,selectionState:E="no-selection",debugContent:m,signalDebuggerContent:I,signalDebuggerV2Content:P,signalDebuggerV2ContentVisibility:g="none",obscuredPinOverlay:A,showNoPinBorderRadius:y,showPromotedPinBorderTreatment:S,shouldUseLegoWash:v}){return(0,T.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:S?ni.promotedPinBorderTreatment:{}},height:"100%",children:(0,T.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:y?{}:ni.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(E)&&(0,T.jsx)(ii,{selected:"selected"===E}),(0,T.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:y?{}:ni.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:o,onMouseEnter:n,onMouseLeave:o,children:[e,(0,T.jsx)(Jt.Z,{visibility:i,children:(0,T.jsx)(qt.Z,{additionalStyles:v?ni.legoWashOverlay:ni.visualOverlay})}),(0,T.jsx)(Jt.Z,{visibility:t,children:(0,T.jsx)(qt.Z,{additionalStyles:v?ni.legoWashOverlay:ni.savedOverlay})}),d&&(0,T.jsx)(Jt.Z,{visibility:c,children:(0,T.jsx)(qt.Z,{children:d})}),r&&(0,T.jsx)(Jt.Z,{visibility:l,children:(0,T.jsx)(qt.Z,{children:r})}),a&&(0,T.jsx)(Jt.Z,{visibility:s,children:(0,T.jsx)(qt.Z,{children:a})}),P&&(0,T.jsx)(Jt.Z,{visibility:g,children:(0,T.jsx)(qt.Z,{children:(0,T.jsx)(f.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:P})})}),_&&(0,T.jsx)(Jt.Z,{visibility:u,children:(0,T.jsx)(qt.Z,{children:(0,T.jsx)(f.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:_})})}),p&&(0,T.jsx)(qt.Z,{children:(0,T.jsx)(f.xu,{position:"absolute",left:!0,bottom:!0,children:p})}),m&&(0,T.jsx)(qt.Z,{children:m}),I]}),h,A&&(0,T.jsx)(f.xu,{children:A})]})})}var ai=i(379089);function si(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function ri(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const li=228;const di=(0,n.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:i,currentlyPlayingVideo:s,disableHover:r=!1,footerProps:l,impressionsDebuggerProps:d,obscuredPinOverlayProps:_,onError:u,onLoad:p,pin:h,pinVisualProps:E,presentationProps:m,primaryContentProps:I,rounding:P,secondaryContentProps:g,selectionState:A,showFooter:y,showImpressionsDebugger:S,showObscuredPinOverlay:v,showSeeStatsButton:R,showSignalDebugger:b,showUnavailablePin:O,surface:N,visibilityOverrides:C}){var L,M;const{savedInfo:j}=h,{viewType:G}=(0,c.E)(),{showEnabledSaveBehavior:B}=(0,et.Yh)(ai.ZF.includes(N)||(0,Je.Z)(N)),[U,F]=(0,n.useState)(!1),z=(0,He.Z)(U);let{isHovering:H,hoverTransitionState:Z,handleMouseOver:V,handleMouseLeave:W}=function(){const[e,t]=(0,n.useState)(!1);return{isHovering:e,hoverTransitionState:(0,He.Z)(e,0,He.X),handleMouseOver:(0,n.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,n.useCallback)((()=>t(!1)),[t])}}();r&&(H=!1,Z="inactive");const Y=(0,He.Z)(!!j),K=si(Y),X=si(Z),$=si(Z),q=si(z),J=si(Y),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(N),ee="visible"!==K||Q?K:"none",te={primaryContentVisibility:null!==(L=C.primaryContent)&&void 0!==L?L:ri($,q,"visible"===J?"none":J),secondaryContentVisibility:(ie=ri($,q,J),"none"===ie?"visible":"visible"===ie?"none":"hidden"),actionBarVisibility:ri($,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ie;const ne=e=>F(e),oe=e=>F(e),ae=e=>{F(e),e||W()};let se=null;"none"!==te.primaryContentVisibility&&(se=(0,T.jsx)(st,{forcePrimaryContent:ne,showEnabledSaveBehavior:B,onToggleFlyout:oe,onToggleModal:ae,pin:h,...I}));let re=null;const le=(0,n.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,t){const{carousel_data:i}=e,{index:o}=i||{},[a,s]=(0,n.useState)(!i||t),r=(0,n.useRef)(o),l=(0,n.useRef)(null);if(i){const e=r.current;r.current=o,(o!==e||t)&&(l.current&&clearTimeout(l.current),s(!0),l.current=setTimeout((()=>{s(!1),l.current=null}),4e3))}return(0,n.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),a}(h,de),_e=si((0,He.Z)(ce));te.secondaryContentVisibility=null!==(M=C.secondaryContent)&&void 0!==M?M:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(te.secondaryContentVisibility,_e),re=(g.allowShoppingPriceIndicator||g.shoppingLabelColor||"none"!==te.secondaryContentVisibility)&&!s&&(0,T.jsx)(f.xu,{margin:2,children:(0,T.jsx)(rt.Z,{pin:h,...g})});let ue=null;"visible"===C.accessoryContent&&(ue=(0,T.jsx)(w,{pin:h}),te.accessoryContentVisibility=si(Z)),E.isSocialSeasonalBoard&&(e.showShareButton=!1);let pe=null;R&&(e.showSourceLinkButton=!1,pe=(0,T.jsx)(o.Z,{children:(0,T.jsx)(Ht.Z,{pinId:h.id,surface:N})}));const he="visible"===C.actionBar?(0,T.jsx)(x,{onToggleFlyout:oe,pin:h,setForcePrimary:F,surface:N,...e}):null;let Ee=null;y&&(Ee=(0,T.jsx)(qe,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===l.attributionType?Z:null,pin:h,setForcePrimary:F,surface:N,...l})),E.isSocialSeasonalBoard&&(Ee=(0,T.jsx)(f.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,T.jsx)(f.xu,{margin:"auto",width:li,children:(0,T.jsx)(Wt,{isFlyoutOpen:U,onFlyoutDismiss:()=>oe(!U),onToggleFlyout:()=>oe(!U),pinId:h.id,sendType:"pin",shownWithinMasonry:!0,viewType:G})})}));const me=S&&(0,T.jsx)(Xt.Z,{...d}),Ie=b&&h.debug_info_html&&(0,T.jsx)(f.xu,{paddingY:1,children:(0,T.jsx)("pre",{children:h.debug_info_html})}),Pe=(0,T.jsx)(D.Z,{pin:h}),fe=(0,n.useRef)();"header-only"===Kt(fe)&&(te.actionBarVisibility="none",te.accessoryContentVisibility="none");const Te=v?(0,T.jsx)($t.ZP,{pin:h,..._}):null,ge="ShoppingGridShippedMetadataWithVisitButton"===N?{height:"100%"}:{},Ae=(0,k.tc)("web_ag_msg_pin_card_update"),ye="ConversationView"===N&&Ae({dangerouslySkipActivation:!0}).anyEnabled,Se=(0,k.tc)("web_creator_attr_hover_overlay"),ve=y&&"default"===l.attributionType&&ai.ZF.includes(N),xe=!h.is_promoted&&!r&&ve,Re=xe&&Se({dangerouslySkipActivation:!0}).anyEnabled;return xe&&(Ee=(0,T.jsx)(f.xu,{onMouseEnter:Se,onFocus:Se,children:Ee})),(0,T.jsx)(a.Z,{name:"PinRepContainer",children:(0,T.jsx)(f.xu,{"data-test-id":"pin","data-test-pin-id":h.id,onFocus:Re?()=>{}:V,onBlur:Re?()=>{}:W,onMouseEnter:Re?()=>{}:V,onMouseLeave:Re?()=>{}:W,dangerouslySetInlineStyle:{__style:ge},rounding:ye&&"ConversationView"===N?P:void 0,borderStyle:ye&&"ConversationView"===N?i:"none",overflow:ye&&"ConversationView"===N?"hidden":"visible",children:(0,T.jsx)(oi,{visualOverlayVisibility:X,savedOverlayVisibility:ee,handleMouseOverPinContent:Re?V:()=>{},handleMouseLeavePinContent:Re?W:()=>{},primaryContent:se,primaryContentVisibility:te.primaryContentVisibility,secondaryContent:re,secondaryContentVisibility:te.secondaryContentVisibility,accessoryContent:ue,accessoryContentVisibility:te.accessoryContentVisibility,actionBar:he,actionBarVisibility:te.actionBarVisibility,seeStatsButton:pe,footer:Ee,selectionState:A,debugContent:me,signalDebuggerV2Content:Pe,signalDebuggerV2ContentVisibility:te.signalDebuggerV2ContentVisibility,signalDebuggerContent:Ie,obscuredPinOverlay:Te,...m,children:(0,T.jsx)(f.xu,{height:"100%",ref:fe,children:(0,T.jsx)(zt,{blockClickEvents:t,showUnavailablePin:O,isHovering:H,onError:u,onLoad:p,pin:h,surface:N,selectionState:A,...E})})})})})}))},858358:(e,t,i)=>{i.d(t,{Dv:()=>a,Oc:()=>n,mv:()=>o});const n=16,o=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},118552:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(680046),o=i(349700);function a({feedbackOptions:e,pin:t,viewParameter:i},a){const{board:s,pinner:r}=t,{getFeedbackType:l}=(0,n.ZP)({i18n:a,interpolateNamedTemplate:o.nk});return l({board:s,feedback:e,pin:t,pinner:r,viewParameter:i})}},617584:(e,t,i)=>{function n(e,t){return e&&e[t]&&e[t].url}i.d(t,{Z:()=>n})},403001:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(605028),o=i(890473);function a(e,t){const{isProduct:i}=(0,n.Z)(e);return(i||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},6847:(e,t,i)=>{function n(e){const t=[];let i="";for(const n of e)if(i){const e=!!n.match(/\s/),o=!!i.match(/\s/);if(e===o)i+=n;else if(!o&&i.includes("-")){let e=0;for(let n=0;n<i.length;n+=1)"-"===i[n]&&(t.push(i.substring(e,n+1)),e=n+1);t.push(i.substring(e)),i=n}else t.push(i),i=n}else i=n;return i.length&&t.push(i),t}function o({font:e,fontSize:t,textList:i,width:o}){var a,s;if("undefined"==typeof document||!document.body||o<=0||t<=0)return[];const r=document.body,l=document.createElement("div");r.appendChild(l);const d=null!=(null===(a=e.fontOverrides)||void 0===a?void 0:a.letterSpacing)?`${e.fontOverrides.letterSpacing}px`:void 0,c=(null===(s=e.fontOverrides)||void 0===s?void 0:s.lineHeight)||1.1,_={letterSpacing:d,lineHeight:String(c),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(l.style,_);const u=document.createElement("div");u.style.display="inline",l.appendChild(u);const p=document.createTextNode("");u.appendChild(p);const h=[];let E="";const m=e=>{const t=e.trim();return p.textContent=t,{text:t,width:u.offsetWidth}},I=e=>{const t=!!e.match(/\s/),i=0===E.length;if(p.textContent=`${E}${e}`,u.offsetWidth>o)if(t)h.push(m(E)),E="";else if(i)for(const n of e)I(n);else h.push(m(E)),E="",I(e);else E+=e};for(const P of null!=i?i:[]){0===P.length&&h.push(m(E));n(P).forEach((e=>I(e))),E.length&&(h.push(m(E)),E="")}return u.remove(),l.remove(),h}function a({boxHeight:e,boxWidth:t,font:i,startFontSize:n,text:a}){var s,r;if("undefined"==typeof document||!document.body)return{fontSize:n,lines:[]};const l=document.body,d=document.createElement("div");l.appendChild(d);const c=null==a?void 0:a.split(/\r?\n/g);let _=n;const u=null!=(null===(s=i.fontOverrides)||void 0===s?void 0:s.letterSpacing)?`${i.fontOverrides.letterSpacing}px`:void 0,p=(null===(r=i.fontOverrides)||void 0===r?void 0:r.lineHeight)||1.1,h={letterSpacing:u,lineHeight:String(p),fontFamily:i.fontFamily,fontSize:`${_}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(d.style,h);const E=document.createElement("div");for(E.style.display="inline",d.appendChild(E),(null!=c?c:[]).forEach(((e,t)=>{const i=document.createElement("span");i.style.wordBreak="break-word",E.appendChild(i),i.appendChild(document.createTextNode(e)),t!==(null!=a?a:"").length-1&&i.appendChild(document.createElement("br"))}));(E.offsetHeight>e||E.offsetWidth>t)&&_>0;)_-=1,d.style.fontSize=`${_}px`;return E.remove(),d.remove(),{fontSize:_,lines:_>0?o({font:i,fontSize:_,textList:c,width:t}):[]}}i.d(t,{K:()=>a,Y:()=>n})},537494:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(66743);function o(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:n.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},558329:(e,t,i)=>{i.d(t,{$l:()=>c,Lb:()=>u,NE:()=>h,Nc:()=>s,SR:()=>a,bm:()=>p,dZ:()=>d,nU:()=>_,o:()=>r,pU:()=>l});var n=i(306775),o=i(623568);function a(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function s(e){var t,i;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(i=t.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function r(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function d(e){var t,i;return!(null===(t=e.creator_analytics)||void 0===t||null===(i=t["30d_realtime"])||void 0===i||!i.is_realtime)}function c(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function _(e){const{native_creator:t,pinner:i,domain:n}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!i&&i.domain_verified&&i.domain_url===n)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:i=[]}={}}=e;return{metadata:t,detailsPage:i[1]}}const p=({viewer:e,pin:t})=>(0,n.su)(e)&&t.is_quick_promotable_by_pinner;function h({carouselInfo:e,closePanelWidth:t,isWideVideo:i,isShortImage:n,naturalWidth:o,showCloseupContentRight:a}){return!(i||!a)&&(!!n||!e&&o<t)}},95003:(e,t,i)=>{i.d(t,{Nb:()=>r,Of:()=>l,YO:()=>s,ZP:()=>_,x4:()=>c});var n=i(667294),o=i(620707),a=i(781423);const s=({showPdp:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?a.Uj:a.zT:1,r=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:a,maxWidth:s})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:a,maxWidth:s}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:a.CI,regular:a.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:a.Kn,regular:a.u6}},d=(0,n.createContext)(l);function c(){const e=(0,n.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const _=d},82314:(e,t,i)=>{i.d(t,{Bu:()=>o,Mg:()=>a,_z:()=>s,pM:()=>r,zc:()=>n});const n="story_pin",o="closefakemodal",a="button",s="video",r="image"},889981:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),o=i(537494),a=i(883119),s=i(6847),r=i(573049),l=i(224496),d=i(775151),c=i(785893);function _({block:e,fontsLoaded:t,scaleFactor:i}){const{block_style:_,style:u=l.Cc,text:p}=e,{alignment:h,font:E,font_size:m,highlight_color:I,vertical_alignment:P=l.Cc.vertical_alignment}=u,{hex_color:f=l.Cc.hex_color}=null!=u?u:{},[T,g]=(0,n.useState)(0),[A,y]=(0,n.useState)([]),S=E||l.Cc.font,{name:v,default_size:x,letter_spacing:R,line_height:b}=S,O=(0,o.Z)(S),N=Math.round(100*((null==_?void 0:_.width)||100))/1e4,C=Math.round(100*((null==_?void 0:_.height)||100))/1e4,w=Math.round(100*((null==_?void 0:_.x_coord)||0))/1e4,D=Math.round(100*((null==_?void 0:_.y_coord)||0))/1e4;(0,n.useEffect)((()=>{if(t){const e=(0,s.K)({text:p,boxHeight:r.U*C,boxWidth:r.q8*N,font:O,startFontSize:Math.floor(m||x||24)});y(e.lines),g(e.fontSize)}}),[t]);const L=T*i,M=I?(0,l.pE)(L,b):{x:0,y:0},k=N*r.q8*i+2*M.x,j=C*r.U*i+2*M.y,G=w*r.q8*i-M.x,B=D*r.U*i-M.y;return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:B}},display:"flex",height:j,position:"absolute",width:k,children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,d.RK)({alignment:h,verticalAlignment:P})},children:(0,c.jsx)(a.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,c.jsx)("p",{style:(0,d.BN)({fontSize:L,hexColor:f,letterSpacing:R,lineHeight:b,name:v}),children:A.map(((e,t)=>(0,c.jsx)("span",{style:(0,d.xm)({fontSize:L,hasText:e.text.length>0,highlightColor:I||null,lineHeight:b}),children:t===A.length-1?e.text:(0,c.jsxs)(n.Fragment,{children:[e.text," ",(0,c.jsx)("br",{})]})},`paragraphLine-${t}-${(null!=p?p:"").substr(0,9)}`)))})})})})}},280348:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),o=i(238464),a=i(428258),s=i(121630),r=i(217468),l=i(407043),d=i(898781),c=i(883119),_=i(785893);class u extends n.PureComponent{constructor(...e){var t,i,n;super(...e),t=this,i="startAudiblePlayTime",n=this.props.muted?null:new Date,i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:i,video:n}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const{hlsv3:t,mp4:o}=(0,a.Z)(n)||{},s=o||t,r=(null==s?void 0:s.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:i,story_pin_music_duration:r}})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:i,blockWidth:n,customEndCard:r,closeupStoryPinViewability:l,isPlaying:d,isVideoThumbnailFixEnabled:u,muted:p,onEnded:h,onUpdateVideoInfo:E,pageIndex:m,pinId:I,video:P}=this.props,{hlsv3:f,mp4:T}=(0,a.Z)(P)||{},g=T||f;if(!g)return null;const{height:A,thumbnail:y,width:S}=g,v=(null!=S?S:1)/(null!=A?A:1),x={height:"100%",left:"0",top:"0",width:"100%"},R=n/t;if(Math.abs(R-v)>.01)if(R<v){const e=100*v/R;x.width=`${e}%`,x.left=`-${(e-100)/2}%`}else if(R>v){const e=100*R/v;x.height=`${e}%`,x.top=`-${(e-100)/2}%`}const b="number"==typeof e&&m<=e+3;return(0,_.jsx)(c.xu,{height:t,overflow:"hidden",position:"relative",width:n,children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{left:i.left<0?i.left:0,top:i.top<0?i.top:0}},height:"100%",position:"absolute",width:"100%",children:b||d?(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:x},position:"absolute",children:(0,_.jsx)(o.Z,{loop:!1,autoplay:d,closeupStoryPinViewability:l,contextLogData:{component:0===m?227:228,element:10957,objectId:I,story_pin_page_id:m,view:3,viewParameter:157},customThumbnail:u?(0,s.c)(y):y,customEndCard:r,isPromoted:!1,muted:p,pinId:I,showControls:"never",variant:"storyPin",preferMp4:!!T,objectFit:T?"cover":void 0,video:{id:P.id,hlsv3:f,mp4:T},onTimeChange:({time:e})=>{if(E&&"number"==typeof g.duration&&g.duration>0){const t=g.duration/1e3;E(e,t)}},onEnded:()=>{h&&h(m)}})}):(0,_.jsx)(c.Ee,{alt:this.props.i18n._('Video cover image', 'closeup.storyPin.videoCover', 'cover image displayed for a video'),fit:"cover",naturalHeight:null!=A?A:1,naturalWidth:null!=S?S:1,src:null!=y?y:""})})})}}function p(e){const{logContextEvent:t}=(0,l.v)(),i=(0,d.ZP)(),n=(0,r.tc)("web_np_idea_pin_video_thumbnail_fix")().anyEnabled;return(0,_.jsx)(u,{...e,i18n:i,isVideoThumbnailFixEnabled:n,logContextEvent:t})}},399707:(e,t,i)=>{i.d(t,{e7:()=>S,l3:()=>v,_B:()=>x,Xw:()=>b,tD:()=>O,B5:()=>R,ZP:()=>w});var n=i(784590),o=i(407043),a=i(925927),s=i(883119),r=i(785893);const l=({block:{block_style:{height:e=0,width:t=0,x_coord:i=0,y_coord:l=0,rotation:d=0}={},original_comment_id:c},scaleFactor:_})=>{const{logContextEvent:u}=(0,o.v)(),p=x/(v/S),h=t*x*_/100,E=e*p*_/100,m=i*x*_/100,I=l*p*_/100,P=(0,a.k6)(),{data:f}=(0,n.Z)({name:"AggregatedCommentResource",options:{commentId:c,field_set_key:"comment_reply_sticker"}});return(0,r.jsx)(s.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:m,top:I,transform:`rotate(${d}deg)`}},height:E,position:"absolute",width:h,rounding:2,zIndex:R,padding:1,margin:-1,children:(0,r.jsx)(s.iP,{onTap:()=>{u({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:c}}),null!=f&&f.pin_id&&P.push(`/pin/${f.pin_id}/comments/${c||""}`)},rounding:"pill"})})};var d=i(523657),c=i(667294),_=i(116303),u=i(898781),p=i(224496),h=i(349700),E=i(217468);function m({block:e,elementType:t,onFlyoutOpen:i,pageIndex:l,productPins:d,scaleFactor:m,tooltipElementType:I,videoPinProgress:P}){var f;const{logContextEvent:T}=(0,o.v)(),[g,A]=(0,c.useState)(!1),y=(0,c.useRef)(),N=(0,a.k6)(),C=(0,u.ZP)(),{block_style:{height:w=0,width:D=0,x_coord:L=0,y_coord:M=0,rotation:k=0}={},end_time:j,error_message:G,interactive_sticker_type:B=null,is_removed:U,is_valid:F,start_time:z,sticker_data:H,type:Z}=e,V=e.pin_id,W=(d||[]).find((e=>e.id===V))||{},{board_id:Y}=H||{},{image_small_url:K,full_name:X,username:$=""}=null!==(f=e.user)&&void 0!==f?f:{};let q=null;const J=F&&5===B&&!!Y,Q=(0,n.Z)({name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:Y,dangerouslyDisableFetch:!J}}),{is_collaborative:ee,pin_count:te,url:ie}=Q.data||{};Z===p.h8.PRODUCT_STICKER?q=V?`/pin/${V}/`:"/":Z===p.h8.MENTION_STICKER?q=`/${$}/`:J&&(q=Q.isLoaded?`${ie}`:null);const ne=x/(v/S),oe=D*x*m/100,ae=w*ne*m/100,se=L*x*m/100,re=M*ne*m/100,{anyEnabled:le}=(0,E.aq)("web_story_pin_tag_duration"),{currentTime:de,duration:ce}=P||{};let _e=!1;if((z||0===z)&&j){const e=z<j&&j<=ce,t=z<=de&&de<=j;_e=!!le&&(!e||!t)}const ue=()=>{T({event_type:123,component:228,element:I,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),A(!1)};(0,c.useEffect)((()=>(document.addEventListener("scroll",(()=>{A(!1)})),()=>document.removeEventListener("scroll",(()=>{A(!1)})))),[]);const pe=()=>{let e=null;switch(Z){case p.h8.PRODUCT_STICKER:const t=40,{grid_title:i,images:n,rich_summary:o,description:a}=W||{},l=(n||{})["236x"]||{},{display_name:d,products:u}=o||{},E=((u||[])[0]||{}).offer_summary||{},{price:m,max_price:I}=E||{},P=!(!E||!m&&!I),f=d||i||a;e=(0,r.jsxs)(c.Fragment,{children:[(0,r.jsx)(s.xu,{flex:"none",children:(0,r.jsx)(s.zd,{wash:!0,height:t,width:t,rounding:3,children:(0,r.jsx)(s.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:l.url||""})})}),(0,r.jsx)(s.xu,{flex:"grow",paddingX:2,children:P?(0,r.jsxs)(s.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,r.jsx)(s.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:m}),(0,r.jsx)(s.xv,{size:"100",lineClamp:1,children:f})]}):(0,r.jsx)(s.xv,{size:"100",lineClamp:1,children:f})}),(0,r.jsx)(s.xu,{flex:"none",children:(0,r.jsx)(s.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case p.h8.MENTION_STICKER:e=(0,r.jsxs)(c.Fragment,{children:[(0,r.jsx)(s.xu,{flex:"none",children:(0,r.jsx)(_.Z,{size:"sm",name:null!=X?X:"",src:null!=K?K:void 0})}),(0,r.jsx)(s.xu,{flex:"grow",paddingX:2,children:(0,r.jsx)(s.xv,{weight:"bold",size:"200",lineClamp:1,children:X})}),(0,r.jsx)(s.xu,{flex:"none",children:(0,r.jsx)(s.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case p.h8.GENERIC_STICKER:e=F?J?Q.isLoaded?(0,r.jsxs)(c.Fragment,{children:[(0,r.jsxs)(s.xu,{flex:"grow",paddingX:2,children:[(0,r.jsx)(s.xv,{weight:"bold",size:"100",lineClamp:1,children:ee?C._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):C._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,r.jsx)(s.xv,{size:"100",children:(!!te||0===te)&&(0,h.nk)(C.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', te, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:te})})]}),(0,r.jsx)(s.xu,{flex:"none",children:(0,r.jsx)(s.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,r.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,r.jsx)(s.xu,{marginEnd:1,paddingX:2,children:(0,r.jsx)(s.xv,{color:"subtle",size:"100",lineClamp:1,children:C._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,r.jsx)(s.$j,{accessibilityLabel:C._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),size:"sm",show:!0})]}):(0,r.jsx)(s.xu,{paddingX:2,paddingY:2,children:(0,r.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:C._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})}):(0,r.jsx)(s.xu,{paddingX:2,paddingY:2,children:(0,r.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:G})});break;case p.h8.VTO_MAKEUP_STICKER:e=(0,r.jsx)(s.xv,{weight:"bold",size:"300",children:C._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}return(0,r.jsx)(s.xu,{alignItems:"center","data-test-id":Z,display:"flex",justifyContent:"center",padding:Z===p.h8.PRODUCT_STICKER?1:3,width:"100%",children:U?(0,r.jsx)(s.xv,{color:"subtle",weight:"bold",size:"200",children:C._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})};return(0,r.jsx)(c.Fragment,{children:_e?null:(0,r.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{left:se,top:re,transform:`rotate(${k}deg)`}},"data-test-id":(Z||"")+"_container",display:"flex",height:ae+2*b,margin:-1,padding:1,position:"absolute",ref:y,rounding:2,width:oe+2*b,zIndex:R,children:[(0,r.jsx)(s.iP,{onTap:g?ue:({event:e})=>{_e||(T({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),T({event_type:120,component:228,element:I,view_type:3,view_parameter:157,aux_data:{error_message:!F&&G?G:null,story_pin_page_id:l}}),A(!0),i&&(e.stopPropagation(),i()))},rounding:"pill",disabled:_e}),g&&(0,r.jsx)(s.mh,{zIndex:O,children:(0,r.jsx)(s.J2,{anchor:y.current,idealDirection:"up",onDismiss:ue,positionRelativeToAnchor:!1,showCaret:!0,size:U?"flexible":"sm",children:U?pe():(0,r.jsx)(s.iP,{onTap:({event:e})=>{e.preventDefault(),U||(T({event_type:101,component:228,element:I,object_id_str:V,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),q?N.push(q):ue())},fullWidth:!0,children:pe()})})})]})})}var I=i(889981),P=i(280348),f=i(19121);function T({ownerId:e}){const t=(0,u.ZP)(),i=(0,f.Z)(),n=i.isAuth&&i.id===e;return(0,r.jsxs)(s.xu,{alignItems:"center",color:"gray",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,r.jsx)(s.xv,{color:"inverse",children:n?t._('Your video is processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that their video is still processing'):t._('This video is still processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that this video is still processing')}),(0,r.jsx)(s.xv,{color:"inverse",children:t._('Check back in a few minutes.', 'closeup.storyPin.videoPlaceholder', 'Let user know to come back in a couple of minutes to view the video')})]})}var g=i(276602),A=i(47168),y=i(82314);const S=16,v=9,x=375,R=new s.Ry(1),b=4,O=new s.Ry(3);function N({block:e,isActive:t,pwtTrackImageLoad:i}){var n,o,a,s,l;const c=(0,u.ZP)();if(!e.image)return null;const _=(null===(n=e.image.images)||void 0===n?void 0:n["750x"])||(null===(o=e.image.images)||void 0===o?void 0:o["474x"]);return(0,r.jsx)(d.Z,{alt:c._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),isActive:t,naturalHeight:null!==(a=null==_?void 0:_.height)&&void 0!==a?a:1,naturalWidth:null!==(s=null==_?void 0:_.width)&&void 0!==s?s:1,src:null!==(l=null==_?void 0:_.url)&&void 0!==l?l:"",onLoad:i})}function C({activePageIndex:e,block:t,closeupStoryPinViewability:i,isActive:n,customEndCard:o,isSplitLayout:a=!1,musicRecordingId:l,muted:d,onEnded:c,onUpdateVideoInfo:_,ownerId:u,pageIndex:p,pinId:h,scaleFactor:E,stillLoading:m}){var I,f;const{block_style:{height:g=100,width:A=100,x_coord:y=0,y_coord:R=0}={},video:b}=t,O=x/(v/S),N=A*x*E/100,C=g*O*E/100,w=y*x*E/100,D=R*O*E/100,L=A<100?Math.min(Math.max(100,A)-Math.abs(y),A):Math.min(Math.max(A-Math.abs(y),0),100),M=(g<100?Math.min(Math.max(100,g)-Math.abs(R),g):Math.min(Math.max(g-Math.abs(R),0),100))*O*E/100,k=L*x*E/100,j=Math.max(R,0)*O*E/100,G=Math.max(y,0)*x*E/100;if(m)return null;if(!b)return(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:j}},height:M,position:"absolute",width:k,children:(0,r.jsx)(T,{ownerId:u})});return!!((null===(I=b.video_list)||void 0===I?void 0:I.V_HLSV3_MOBILE)||(null===(f=b.video_list)||void 0===f?void 0:f.V_720P))&&(0,r.jsx)(s.xu,{height:a?"50%":"100%",overflow:"hidden",position:"relative",children:(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:j}},height:M,overflow:"hidden",position:"absolute",width:k,children:(0,r.jsx)(P.Z,{activePageIndex:e,customEndCard:o,blockHeight:C,blockPosition:{left:w,top:D},blockWidth:N,closeupStoryPinViewability:i,isPlaying:n,musicRecordingId:l,muted:d,onEnded:c,onUpdateVideoInfo:_,pageIndex:p,pinId:h,video:b})})})}function w({activePageIndex:e,block:t,closeupStoryPinViewability:i,customEndCard:n,fontsLoaded:o,isActive:a,isSplitLayout:d=!1,musicRecordingId:c,muteVideos:_,onEnded:u,onFlyoutOpen:h,onUpdateVideoInfo:P,ownerId:f,pageIndex:T,pageWidth:S,pinId:v,previewOnly:R,productPins:b,stillLoading:O=!1,videoPinProgress:w}){const{block_style:{height:D=100,width:L=100,x_coord:M=0,y_coord:k=0}={},interactive_sticker_type:j=null}=t,{anyEnabled:G}=(0,E.aq)("web_np_board_sticker_display",t.type===p.h8.GENERIC_STICKER),B=(0,A.g)(),U=(0,g.EV)(),F=()=>{B&&a&&(B.addBinaryAnnotation("pin.id",v,"STRING"),B.addBinaryAnnotation("video",!1,"BOOL"),B.stop()),U&&a&&(U.addBinaryAnnotation("pin.id",v,"STRING"),U.addBinaryAnnotation("video",!1,"BOOL"),U.removeConstraint(y._z),U.markConstraintComplete(y.pM))};if(0===D||0===L)return null;const z=S/x;switch(t.type){case p.h8.PARAGRAPH:case p.h8.HEADING:return(0,r.jsx)(I.Z,{block:t,fontsLoaded:o,scaleFactor:z});case p.h8.VIDEO:return(0,r.jsx)(C,{customEndCard:n,activePageIndex:e,block:t,closeupStoryPinViewability:i,isActive:a,isSplitLayout:d,musicRecordingId:c,muted:_,ownerId:f,onEnded:u,onUpdateVideoInfo:P,pageIndex:T,pinId:v,scaleFactor:z,stillLoading:O});case p.h8.IMAGE:return(0,r.jsx)(s.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:`${D}%`,left:`${M}%`,top:`${k}%`,width:`${L}%`}},children:(0,r.jsx)(N,{block:t,isActive:a,pwtTrackImageLoad:F})});case p.h8.MENTION_STICKER:return!R&&(0,r.jsx)(m,{block:{...t},elementType:12120,onFlyoutOpen:h,pageIndex:T,scaleFactor:z,tooltipElementType:12121,videoPinProgress:w});case p.h8.GENERIC_STICKER:return G&&!R&&(e=>{switch(j){case 5:return(0,r.jsx)(m,{block:{...e},elementType:12827,onFlyoutOpen:h,pageIndex:T,scaleFactor:z,tooltipElementType:12828,videoPinProgress:w});default:return(0,r.jsx)(m,{block:{...e},elementType:12858,onFlyoutOpen:h,pageIndex:T,scaleFactor:z,tooltipElementType:12859,videoPinProgress:w})}})(t);case p.h8.PRODUCT_STICKER:return!R&&(0,r.jsx)(m,{block:{...t},elementType:12223,onFlyoutOpen:h,pageIndex:T,productPins:b,scaleFactor:z,tooltipElementType:12224,videoPinProgress:w});case p.h8.VTO_MAKEUP_STICKER:return!R&&(0,r.jsx)(m,{block:{...t},elementType:12561,onFlyoutOpen:h,pageIndex:T,scaleFactor:z,tooltipElementType:12561,videoPinProgress:w});case p.h8.COMMENT_REPLY_STICKER:return t.type===p.h8.COMMENT_REPLY_STICKER&&!R&&(0,r.jsx)(l,{block:t,scaleFactor:z});default:return null}}},830413:(e,t,i)=>{i.d(t,{Y:()=>c,Z:()=>_});var n=i(667294),o=i(399707),a=i(430323),s=i(898781),r=i(224496),l=i(883119),d=i(785893);const c=[r.h8.COMMENT_REPLY_STICKER,r.h8.GENERIC_STICKER,r.h8.HEADING,r.h8.IMAGE,r.h8.MENTION_STICKER,r.h8.PARAGRAPH,r.h8.PRODUCT_STICKER,r.h8.VIDEO,r.h8.VTO_MAKEUP_STICKER];function _({activePageIndex:e,closeupStoryPinViewability:t,fontsLoaded:i,hideMute:_,isActive:u,customEndCard:p,isPreview:h,muteVideos:E,onChangeMuteVideo:m,onEnded:I,onFlyoutOpen:P,onUpdateVideoInfo:f,ownerId:T,page:g,pageIndex:A,pageWidth:y,pinId:S,productPins:v,shouldLogTimeSpent:x=!0,stillLoading:R=!1,videoPinProgress:b,viewParameter:O,viewType:N}){var C;const w=(0,s.ZP)(),[D,L]=(0,n.useState)(!1),{background_color:M}=g.style||{},k=[],j=[],G=[];(null!==(C=g.blocks)&&void 0!==C?C:[]).forEach((e=>{c.includes(e.type)?e.type===r.h8.PARAGRAPH||e.type===r.h8.HEADING?j.push(e):G.push(e):k.push(e)})),G.push(...j);const B=!!G.find((e=>e.type===r.h8.VIDEO)),U=k.find((e=>e.type===r.h8.MUSIC)),F="story_pin_music_block"===(null==U?void 0:U.type)?U.provider_recording_id:void 0,z=()=>(0,d.jsx)(l.iP,{fullHeight:!0,onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{background:M||"#fff"}},height:"100%",children:[!h&&G.map(((n,a)=>{var s,r;return(0,d.jsx)(o.ZP,{activePageIndex:e,customEndCard:p,block:n,closeupStoryPinViewability:t,fontsLoaded:i,isActive:u,isSplitLayout:3===g.layout,musicRecordingId:F,muteVideos:E,ownerId:T,onEnded:I,onFlyoutOpen:P,videoPinProgress:b,onUpdateVideoInfo:f,pageIndex:A,pageWidth:y,pinId:S,productPins:v,stillLoading:R},`${null!==(s=g.id)&&void 0!==s?s:""}-${null!==(r=n.type)&&void 0!==r?r:""}-${a}`)})),_||h||!B||!D&&!E?null:(0,d.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:E?(0,d.jsx)(l.hU,{accessibilityLabel:w._('Click to unmute', 'closeup.storyPin.storyPinVideo.volume', 'Button to unmute the video'),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:()=>m(!1)}):(0,d.jsx)(l.hU,{accessibilityLabel:w._('Click to mute', 'closeup.storyPin.storyPinVideo.volume', 'Button to mute the video'),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:()=>m(!0)})})]})});return x?(0,d.jsx)(a.Z,{view:N,viewParameter:O,component:0===A?227:228,auxData:{story_pin_page_id:A},shouldUseGrandparentId:!0,children:z()}):z()}},781423:(e,t,i)=>{i.d(t,{CI:()=>a,Ch:()=>r,Gb:()=>l,Gg:()=>n,Ie:()=>u,JV:()=>h,KP:()=>p,Kn:()=>s,Uj:()=>d,bx:()=>E,d2:()=>_,g9:()=>m,iB:()=>I,u6:()=>o,zT:()=>c});const n=508,o=2*n,a=488,s=992,r=672,l=1176,d=.6,c=.84,_=40,u=72,p=740,h=60,E=912,m=32,I={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},890587:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(768559),o=i(927955);function a(e,t){const i=o.Z.instance;let a;if(i){const o=i.getState();if(o.pins&&e){const i=o.pins[e],s=o.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==i?void 0:i.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));i&&(a=t?e[t]:e.PinResource)}else i&&(a=(0,n.Z)(i,s))}}return a}},615873:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(307061),o=i(736688);const a=(0,n.Z)((e=>{const{videos:t}=e.pin,{id:i,video_list:n={}}=t||{},{V_720P:a,V_HLSV4:s,V_HLSV3_MOBILE:r}=n,l=(0,o.V)(s),d=(0,o.V)(r),c=(0,o.V)(a),_=c||l||d;return i&&_?{...e,video:{id:i,hasVideo:_,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},333070:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var n=i(966338),o=i(834911),a=i(811403),s=i(890473),r=i(407043),l=i(95003),d=i(883119),c=i(785893);function _({carouselData:e,carouselIndex:t,componentType:i,contextLogData:_,handleCarouselSwipe:u,isCloseup:p,isEditMode:h,pinId:E,viewParameter:m,viewType:I,variant:P}){const{logContextEvent:f}=(0,r.v)(),T=(0,n.useSelector)((({pins:e})=>e[E]),n.shallowEqual),g=e||(0,o.Z)({pin:T}),A=(0,n.useDispatch)();if(!g)return null;const y=(e,t,n)=>{h||void 0===a.yR||(e.preventDefault(),e.stopPropagation(),A((0,a.yR)(String(E),n))),void 0!==u&&u(n),((e,t,i,n=0,o,a,r,l,d,c,_)=>{if(!_){const{carousel_slots:_,id:u}=a;e({event_type:108,object_id_str:i,component:d,view_type:l,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==_?void 0:_[n])&&Number(_[n].id),carouselDataId:Number(u),carouselSlotIndex:n,toCarouselSlotIndex:o}},aux_data:{...c,...(0,s.Kl)(t)||{}}})}})(f,T,E,t,n,g,m,I,i,_,h)},{carousel_slots:S=[],index:v}=g,x=void 0!==t?t:v,R="default"===P,b=R?"white":"#555",O=R?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:h?1:0,children:[...Array(S.length).keys()].map((e=>{var t;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(t=S[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>y(t,x,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===x?b:O}},rounding:"circle"})})},E+e)}))})})}},527890:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),o=i(802933),a=i(102500),s=i(692627),r=i(47170),l=i(890473),d=i(623568),c=i(407043),_=i(785893);function u({children:e,hovered:t,pin:i,slotIndex:u,trafficSource:p,viewType:h}){const{logContextEvent:E}=(0,c.v)(),[m,I]=(0,n.useState)(),[P,f]=(0,n.useState)(),{id:T,tracked_link:g,link:A}=i,y=g||A||"",S=()=>{I(!0)},v=(0,r.Z)(i),x=(0,s.Z)((0,o.Z)({pin:i})),R=(0,n.useCallback)((()=>{((e,t,i)=>{const n={check_only:i,pin_id:e.id,url:t,client_tracking_params:v,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:T,...u||{},...(0,l.Kl)(e)||{}})};return(0,a.Z)(n)})(i,y,!1).callGet({showError:!1}).then((e=>{e&&(E({event_type:12,object_id_str:T,view_type:h,view_parameter:x,aux_data:{clickthrough_type:"rightClick",...u||{},...(0,l.Kl)(i)||{}}}),E({event_type:8948,view_type:h,object_id_str:T,view_parameter:x,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,d.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",...u||{},...(0,l.Kl)(i)||{}}}))}))})),b=e=>{var t;m&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(R(),I(!1)),window.removeEventListener(P,b,!1))};return(0,n.useEffect)((()=>{var e,t,i,n,o,a;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?f("visibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(n=i.document)||void 0===n?void 0:n.msHidden)?f("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(a=o.document)||void 0===a?void 0:a.webkitHidden)&&f("webkitvisibilitychange")}),[]),(0,n.useEffect)((()=>(m&&window&&window.addEventListener(P,b,!1),()=>window.removeEventListener(P,b))),[m,P]),(0,n.useEffect)((()=>(t&&window.addEventListener("contextmenu",S),()=>{window.removeEventListener("contextmenu",S)})),[t]),(0,_.jsx)(n.Fragment,{children:e})}},730815:(e,t,i)=>{i.d(t,{J:()=>n,o:()=>o});const n="numSearchCloseups",o=20},543398:(e,t,i)=>{i.d(t,{ZP:()=>l,tY:()=>c,Yh:()=>d});var n=i(966338),o=i(784590),a=i(19121);const s=0,r=1;function l(e){var t;const i=(0,a.Z)(),n=i.isAuth&&i.id===e,s=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!i.isAuth||n});return{showEnabledSaveBehavior:n&&i.has_quicksave_board||!(!i.isAuth||null===(t=s.data)||void 0===t||!t.has_quicksave_board)}}function d(e){var t;const i=(0,n.useDispatch)(),s=(0,a.Z)(),r=s.isAuth&&!!s.boardCount&&s.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:s.isAuth&&s.id},dangerouslyDisableFetch:!r||!e});return s.isAuth&&void 0===s.save_behavior&&l&&null!==(t=l.data)&&void 0!==t&&t.id&&i({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:r}}function c(e){const t=(0,a.Z)();let i;return e&&(t.save_behavior===s?i={type:"classic"}:t.save_behavior===r&&(i={type:"inline"})),{saveBehaviorType:i}}},767790:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(784590),o=i(925927);function a(){const{username:e}=(0,o.UO)();return(0,n.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},622403:(e,t,i)=>{i.d(t,{k:()=>a,s:()=>s});var n=i(667294);const o=(0,n.createContext)(Object.freeze({})),a=o.Provider;function s(){return(0,n.useContext)(o)}},535095:(e,t,i)=>{i.d(t,{Ac:()=>a,c7:()=>o,cg:()=>n});const n=-1,o=5,a=6},838292:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(122016),o=i(111046);function a({action:e,board:t,viewer:i}){var a;return(0,n.Z)(i,t)||(0,o.Z)({board:t,viewer:i})&&!(null===(a=t.collaborator_permissions)||void 0===a||!a.includes(e))}},111046:(e,t,i)=>{function n({board:e,viewer:t}){const{collaborated_by_me:i}=e;return Boolean(t.isAuth&&i)}i.d(t,{Z:()=>n})},595342:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(122016),o=i(111046);function a({board:e,viewer:t}){return(0,n.Z)(t,e)||(0,o.Z)({board:e,viewer:t})}},104389:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(854035),o=i(869503),a=i(67828),s=i(883119),r=i(785893);const l=({count:e,countFormat:t,ratingValue:i,shippingInfo:a,highlightLabel:l})=>(0,r.jsxs)(s.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,r.jsx)(n.Z,{count:e,countFormat:t,rating:i,textSize:"200"}),(0,r.jsx)(o.ZP,{customStyles:{color:l?"shopping":"subtle",size:"md"},shippingInfo:a})]}),d=({count:e,countFormat:t,ratingValue:i,shippingInfo:l,condition:d,highlightLabel:c})=>(0,r.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,r.jsx)(n.Z,{count:e,countFormat:t,rating:i,textSize:"300"}),(0,r.jsx)(o.ZP,{condition:d,customStyles:{color:c?"shopping":"default",size:"lg"},shippingInfo:l,showPrevDot:(0,a.Z)({count:e,rating:i})})]});function c(e){return e.isGridView?(0,r.jsx)(l,{...e}):(0,r.jsx)(d,{...e})}},354042:(e,t,i)=>{i.d(t,{$O:()=>r,GZ:()=>d,OE:()=>c,Xv:()=>l,Z0:()=>n,_z:()=>a,fM:()=>s,qA:()=>o,zX:()=>_});const n=40,o=4,a=106,s=133,r=.1,l=10,d=246,c=197,_=236},573049:(e,t,i)=>{i.d(t,{Lh:()=>u,S8:()=>s,U:()=>c,Ym:()=>l,Zy:()=>o,dD:()=>n,eE:()=>r,er:()=>_,j7:()=>p,n5:()=>a,q8:()=>d});const n=3,o=3,a=20,s=100,r=75,l=9/16,d=375,c=d/l,_=1200,u="#FFFFFF",p={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"}},238464:(e,t,i)=>{i.d(t,{Z:()=>N});var n=i(667294),o=i(700622),a=i(985271),s=i(800262),r=i(366284),l=i(224496),d=i(494349),c=i(172071),_=i(247371),u=i(407043),p=i(898781),h=i(946984),E=i(883119),m=i(785893);function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const P={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},f={overlay:{__style:{backgroundColor:"#000"}}};class T extends n.PureComponent{constructor(...e){super(...e),I(this,"handleRestartVideo",(({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),c.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),I(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:i,requireAuth:n,logContextEvent:o}=this.props;t&&c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),o({event_type:101,component:179,object_id_str:i,view_type:3,view_parameter:156,element:11731}),n((()=>{e&&e()}))()})),I(this,"handleExternalSend",(()=>{c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),I(this,"renderReplayButton",(()=>(0,m.jsx)(E.iP,{onTap:this.handleRestartVideo,rounding:2,children:(0,m.jsxs)(E.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,m.jsx)(E.JO,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"white",dangerouslySetSvgPath:P,size:30}),(0,m.jsx)(E.xu,{margin:1}),(0,m.jsx)(E.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})}))),I(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:i,onFlyoutDismiss:n,pinId:o}=this.props;return(0,m.jsxs)(E.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,m.jsx)(_.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:i,onExternalSend:this.handleExternalSend,onFlyoutDismiss:n,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shownWithinMasonry:!0,iconOnly:!0}),(0,m.jsx)(E.xu,{margin:1}),(0,m.jsx)(E.iP,{onTap:this.handleShareVideo,rounding:2,children:(0,m.jsx)(E.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished')})})]})}))}componentDidMount(){const{pinId:e,logContextEvent:t}=this.props;c.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:i,pinTitle:n}=this.props;return(0,m.jsx)(E.xu,{children:(0,m.jsxs)(E.Ee,{alt:n||"",naturalHeight:t,naturalWidth:i,src:e,children:[(0,m.jsx)(E.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:f.overlay}),(0,m.jsx)(E.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,m.jsxs)(E.xu,{position:"absolute",children:[(0,m.jsx)(E.xu,{children:this.renderShareButton()}),(0,m.jsx)(E.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function g(e){const{logContextEvent:t}=(0,u.v)(),i=(0,p.ZP)(),n=(0,h.Z)();return(0,m.jsx)(T,{...e,i18n:i,requireAuth:n,logContextEvent:t})}const A=({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:n,pinTitle:o})=>{const a=(0,p.ZP)();return(0,m.jsx)(E.xu,{children:(0,m.jsxs)(E.Ee,{alt:o||"",naturalHeight:t,naturalWidth:i,src:e,children:[(0,m.jsx)(E.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:f.overlay}),(0,m.jsx)(E.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,m.jsx)(E.xu,{children:(0,m.jsx)(E.iP,{onTap:n,rounding:2,children:(0,m.jsxs)(E.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,m.jsx)(E.JO,{accessibilityLabel:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"white",dangerouslySetSvgPath:P,size:30}),(0,m.jsx)(E.xu,{margin:1}),(0,m.jsx)(E.X6,{color:"light",overflow:"normal",size:"400",children:a._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})})})})]})})};var y=i(82314),S=i(276602),v=i(780280),x=i(488789),R=i(47168);function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O extends n.Component{constructor(...e){super(...e),b(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,r.G6)(this.props.requestContext.userAgent.browserName)&&(!!this.props.autoplay&&!this.props.disabled),ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),b(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!a.Z)return;const{storyPinStepStopwatch:t,pinId:i,pwtSurfaceContext:n}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",i,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:a.Z.now()}),t.stop()),n&&(e||n.addAnnotation("video.startup.end"),n.addBinaryAnnotation("pin.id",i,"STRING"),n.addBinaryAnnotation("video",!0,"BOOL"),n.markConstraintComplete(y._z),n.addSubspan("perceived_video_load",null,a.Z.now()),n.metricId.segment===y.zc&&n.removeConstraint(y.pM))})),b(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:i}=this.props,n=t.mp4,o=t.hlsv3||t.hls||null,{thumbnail:a}=i&&n||o||{},s=(r=e||a)&&document.querySelector(`video[poster="${r}"]`)||null;var r;4===(null==s?void 0:s.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),b(this,"componentDidUpdate",((e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()})),b(this,"handleTouch",(()=>{const{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState((e=>({playing:!e.playing})))})),b(this,"handleShowControls",(()=>this.setState({controls:!0}))),b(this,"handleHideControls",(()=>this.setState({controls:!1}))),b(this,"handleReady",(()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})})),b(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,customEndCard:i,pinId:n,setCurrentVideo:o,loop:a,onEnded:s}=this.props;var r;e.stopPropagation(),a||(this.setState({playing:!1}),(r=t)&&r.endsWith(".gif")||i||(this.setState({showEndCard:!0}),o({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),s&&s()})),b(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),b(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),b(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),b(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),b(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),b(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),b(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),b(this,"handleVolumeChange",(({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})})),b(this,"exitFullscreen",(()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),b(this,"renderCloseupVideoEndCard",((e,t,i,n)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:this.handleShareRestartVideo},a={backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:s}=this.props,r={gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:""};return n?(0,m.jsx)(A,{...a}):(0,m.jsx)(g,{...r,...o})}))}render(){const{autoplay:e,closeupStoryPinViewability:t,contextLogData:i={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:n,isPromoted:a,loop:d,onTimeChange:c,objectFit:_,preferMp4:u,preload:p,requestContext:h,storyPinContext:I,showControls:P,variant:f,video:T,videoStartTime:g}=this.props;i.is_closeup_video=!0;const{controls:A,fullscreen:y,playing:S,showEndCard:v,volume:x}=this.state,R=T.hlsv3||T.hls||null,{ideaPinSessionId:b}=I||{};if(!R&&!T.mp4)return null;const O=T.mp4,N=u&&O&&O.url||R&&[{type:"video/m3u8",src:R.url}]||void 0,{height:C,thumbnail:w,width:D}=u&&O||R||{},L=n||w;let M;return M="default"===f?0:"storyPin"===f?l.yR:2,(0,m.jsx)(E.zd,{willChangeTransform:!((0,r.G6)(h.userAgent.browserName)&&y),rounding:M,wash:!0,children:v?this.renderCloseupVideoEndCard(null!=L?L:"",null!=C?C:1,null!=D?D:1,a):(0,m.jsx)(E.iP,{onMouseEnter:"hover"===P?this.handleShowControls:void 0,onMouseLeave:"hover"===P?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,m.jsx)(o.ZP,{contextLogData:{...i,...b&&{idea_pin_session_id:b},video_id:this.props.video.id,video_play_type:"video"},accessibilityMaximizeLabel:this.props.i18n._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:this.props.i18n._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:this.props.i18n._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:this.props.i18n._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:this.props.i18n._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:this.props.i18n._('Progress bar', 'CloseupVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:this.props.i18n._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:(null!=D?D:1)/(null!=C?C:1),closeupStoryPinViewability:t,captions:"",controls:A,hlsConfig:{startLevel:s.VS},isAutoPlay:!!e,objectFit:_,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:c,onVolumeChange:this.handleVolumeChange,preferMp4:u,playing:S,preload:p,poster:L,src:N,videoStartTime:g,volume:x,loop:d})})})}}function N(e){const t=(0,p.ZP)(),i=(0,v.B)(),n=(0,R.g)(),o=(0,S.EV)(),a=(0,x.c)(),{pinId:s,isPromoted:r}=e,{appUI:{videosAutoplaying:l},setCurrentVideo:c}=(0,d.I)(),{organicVideosAutoplaying:_,promotedVideosAutoplaying:u}=l;let h=null;return h=r?u[s]:_[s],(0,m.jsx)(O,{...e,i18n:t,isPlaying:!h||!h.paused,pwtSurfaceContext:o,requestContext:i,setCurrentVideo:c,storyPinContext:a,storyPinStepStopwatch:n,videoStartTime:h?h.currentTime:null})}b(O,"defaultProps",{loop:!1,showControls:"hover"})},22245:(e,t,i)=>{function n(e,t,i,n){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:i,undoText:n}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function a(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function r(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(t,{I1:()=>o,Ib:()=>s,NA:()=>n,ZP:()=>a,b9:()=>l,i0:()=>r,yj:()=>d})},241244:(e,t,i)=>{i.d(t,{N:()=>s,Z:()=>a});var n=i(883119),o=i(785893);function a({children:e,fullWidth:t}){return(0,o.jsx)(n.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function s({children:e,enabled:t}){return t?(0,o.jsx)(a,{children:e}):e}},306775:(e,t,i)=>{i.d(t,{Fl:()=>c,GG:()=>_,Pw:()=>p,dl:()=>l,k3:()=>h,su:()=>E,tW:()=>u});var n=i(954571),o=i(411938),a=i(826067);const s=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],r=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],d=["US","CA"],c=(e,t)=>{if(r.includes(e.toUpperCase())){const{anyEnabled:e}=t.experiments.getWithActivation("advertiser_growth_qp_expansion");return e}return s.includes(e.toUpperCase())},_=e=>!!e&&d.includes(e.toUpperCase()),u=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),p=({requestContext:e,history:t,pinId:i})=>{((e,t)=>{const i=(0,a.ru)("/business/convert",{next:t});e.push(i)})(t,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(i))},h=e=>{const t=e.trim().split(" ").filter((e=>!!e));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},E=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,n.Z)(null,e)},687551:(e,t,i)=>{function n(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}i.d(t,{Z:()=>n})},778841:(e,t,i)=>{function n(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}i.d(t,{Z:()=>n})},47170:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(768559),o=i(558068),a=i(925927);function s(e){const t=(0,a.TH)(),{previous:i}=(0,o.H)();return(0,n.Z)(e,t,i)}},81226:(e,t,i)=>{function n(e){const t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}i.d(t,{Z:()=>n})},954571:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;let i="";t&&t.createdAt?i=t.createdAt:e&&e.created_at&&(i=e.created_at);const n=new Date(i);return n.setDate(n.getDate()+28),(new Date).getTime()<n.getTime()}},411938:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t,i=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let n;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,a=n?new Date(n):o;return a.setDate(a.getDate()+i),(new Date).getTime()<a.getTime()}},620707:(e,t,i)=>{i.d(t,{_Y:()=>n,qe:()=>s,xZ:()=>a});const n=(e,t)=>e.length===t.length&&e.every(((e,i)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every((i=>e[i]===t[i]))}return e===t}(e,t[i]))),o=(e,t)=>e.length===t.length&&e.every(((e,i)=>e===t[i])),a=(e,t=o)=>i=>{const n=[];return function(...o){const a=this,s=n.find((e=>e.context===a&&t(e.args,o)));if(s)return s.result;const r={context:a,args:o,result:i.apply(this,o)};return n.push(r),e&&n.length>e&&n.shift(),r.result}},s=a(1);a()},984405:(e,t,i)=>{function n(e={},t=[]){return Object.keys(e).reduce(((i,n)=>t.includes(n)?i:{...i,[n]:e[n]}),{})}i.d(t,{Z:()=>n})},64446:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(605028);var o=i(341732),a=i(81226),s=i(898781),r=i(217468),l=i(883119),d=i(785893);const c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},_={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function u({backgroundColor:e,identifier:t,size:i="sm"}){const n="pine"===e?"#0FA573":"#fff",o="sm"===i?c:_;return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function p({pin:e,size:t="sm",allowProductCarousel:i,allowShoppingPriceIndicator:c,shoppingLabelColor:_}){const p=(0,s.ZP)(),h=(0,n.Z)(e),E=(0,r.tc)("web_pdp_pur_optim"),{group:m,anyEnabled:I}=(0,r.aq)("hfp_idea_pin_identifer_web");if(h.isGif)return u({identifier:"GIF",size:t});if(h.isStoryPin){const{page_count:i=0,total_video_duration:n=0}=e.story_pin_data||{},o=I?m:"default";let s="idea-pin",r=i.toString();if("default"!==o)if(r=(0,a.Z)(n>0?n:5e3*i),o.includes("play"))s="play";else{if(!o.includes("icon_time"))return u({identifier:r,size:t});s="idea-pin"}return u({identifier:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,d.jsx)(l.JO,{accessibilityLabel:p._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:s,color:"default",size:"sm"===t?12:16})}),(0,d.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:r})]}),size:t})}if(h.isVideo){const i=e.videos,{duration:n=0}=i&&i.video_list&&i.video_list[Object.keys(i.video_list)[0]]||{};return u({identifier:(0,a.Z)(n),size:t})}if(h.isProduct){const i=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){const e=i&&(i.price||i.max_price);return e?u({identifier:e,size:t}):null}if(_){const n=null==i?void 0:i.percentage_off;let o=!1;n&&(o=E().anyEnabled);const a=o&&n||function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return a?u({identifier:a,backgroundColor:_,size:t}):null}return null}if(i){const i=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=i&&(0,o.Z)(e.images,i.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:a=[],index:s=0}=n;return u({identifier:`${s+1}/${a.length}`,size:t})}if(h.isCarousel){const i=e.carousel_data||{},{carousel_slots:n=[],index:o=0}=i;return u({identifier:`${o+1}/${n.length}`,size:t})}return null}},55275:(e,t,i)=>{i.d(t,{P:()=>s,t:()=>r});var n=i(6637);const o=()=>{};const a={complaint:function(e,t){n.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){n.ZP.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){n.ZP.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){n.ZP.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){n.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){n.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){n.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){n.ZP.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){n.ZP.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){n.ZP.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){n.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},s=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function r(e,t,i=o){const n=e?a[e]:null;return n?n(t,i):i()}},680046:(e,t,i)=>{i.d(t,{EF:()=>_,XZ:()=>d,ZP:()=>r,nb:()=>c,yl:()=>l});var n=i(966113),o=i(55275),a=i(760372);const s=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,r=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return n.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return n.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return n.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:i,board:n,feedbackType:o,makeNavigateLink:a,pinner:r,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:o,url:_}=d.board,u=a("navigation",_,o);return t(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:u});case"topic":const{name:p,url_name:h}=c,E=a("topicUrl",`/topics/${h}`,p);return t(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:E});case"followed":const m=`/${r.username}`,I=a("boardUrl",n.url,s(n.name)),P=a("pinnerUrl",m,s(r.full_name));return r.explicitly_followed_by_me?t(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:P}):t(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:I});case"promoted":switch(i){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:i,username:n}=l,o=a("promotedLink",n?"/"+n+"/":"/",i);return t(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:i,pin:{promoter:n,is_downstream_promotion:o,recommendation_reason:a},pinner:s}){const r=t&&t.type;return n&&!o?"promoted":r||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(a)?a.board?"pfyBoard":"pfy":a&&"FOLLOWED_INTEREST"===a.reason?"topic":e&&e.followed_by_me||s&&s.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:i,recommendationReasonId:n,pinFeedbackType:o,complaintReason:a,throughId:s,throughProperties:r,clientTrackingParams:l})=>{const d="promoted"===t;let c,_;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":_={query:e.query,pin_id:i};break;case"related":_={pin:i};break;case"newsHub":_={pinId:i,newsId:e.newsId};break;default:_={complaint_reason:a||0,pin_id:i,...n?{recommendation_reason_id:n}:{},feedback_type:o||1,promoted:d,...s?{through_id:s}:{},...r?{through_properties:r}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:_}},getUnfollowAction:({board:i,feedbackType:n,makeNavigateLink:o,pinner:s,sourceInterest:r})=>{if("topic"===n){if(r){const{id:i,name:n,url_name:s}=r,l=o("topicUrl",`/topics/${s}`,n,!0),d=t(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:a.X},title:"",subTitle:d}}}else if("followed"===n&&i&&s){const{id:n,name:a,url:r}=i||{},{explicitly_followed_by_me:l,full_name:d,username:c}=s,_=`/${c}`,u=o("boardUrl",r,a,!0),p=o("pinnerUrl",_,d,!0);let h=l?t(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:p,formattedBoard:u}):t(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u});return h=l?t(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:p}):t(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u}),{action:"unfollowBoard",actionOptions:{board_id:n},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function _(e,t,i,n,a,s,r){return()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,o.t)(d,l),s(i),r({event_type:101,component:0,element:11181,view_type:n,view_parameter:a})}}},248975:(e,t,i)=>{function n(e,t){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const i=e.images;if(!i)return"";if(t){const e="474x"===t&&i["474x"]||"236x"===t&&i["236x"]||i["736x"];if(e&&e.url)return e.url}const n=Object.keys(i).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(i[t]=i[e],t):e}catch(t){return""}}));n.sort();const o=n.pop();return i[o]&&i[o].url||""}i.d(t,{Z:()=>n})},605028:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(687551),o=i(623568);function a(e){const{access:t,attribution:i,embed:a,is_eligible_for_web_closeup:s,rich_summary:r,sponsorship:l,story_pin_data_id:d,videos:c}=e,_={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(_.isLeadPin=!0),(0,n.Z)(e)&&(_.isCarousel=!0),s&&(_.isOneTap=!0),(0,o.iR)(c)&&(_.isVideo=!0);const u=a||i&&i.embed||null;return u&&"gif"===u.type&&(_.isGif=!0),r&&"product"===r.type_name&&(_.isProduct=!0),r&&"recipe"===r.type_name&&(_.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(_.isPromoted=!0),(t||[]).includes("write")&&(_.isOwnPin=!0),d&&(_.isStoryPin=!0),l&&(_.isSponsored=!0),_}},66743:(e,t,i)=>{i.d(t,{NC:()=>a,Rc:()=>r,WK:()=>d,X9:()=>o,b9:()=>n,f9:()=>l,gu:()=>s});const n="pin-builder-font-faces",o="system-font-faces",a="pin-builder-education-font-faces",s="licensed",r="system",l="brand",d=4},692627:(e,t,i)=>{function n(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}i.d(t,{Z:()=>n})},869503:(e,t,i)=>{i.d(t,{KX:()=>_,Uv:()=>c,ZP:()=>u,gP:()=>d});var n=i(939106),o=i(898781),a=i(225643),s=i(349700),r=i(883119),l=i(785893);function d({condition:e}){const t=(0,o.ZP)();switch(e){case a.ConditionType.USED:return t._('Used', 'closeup.product.condition_used', 'product condition that is used');case a.ConditionType.REFURBISHED:return t._('Refurbished', 'closeup.product.condition_refurbished', 'product condition that is refurbished');case a.ConditionType.NEW:default:return""}}function c(){const e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function _({freeShippingPrice:e}){const t=(0,o.ZP)();return(0,s.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function u({customStyles:e,shippingInfo:t,showPrevDot:i,condition:o}){const{free_shipping_price:a,free_shipping_value:s}=t||{},u=i?[""]:[],{color:p="subtle",size:h="200"}=e||{},E=d({condition:o});return Number.isFinite(s)?(E&&u.push(E),0===s?u.push((0,l.jsx)(c,{})):a&&u.push((0,l.jsx)(_,{freeShippingPrice:a})),0===u.length?null:(0,l.jsx)(r.xv,{color:p,size:h,children:(0,l.jsx)(n.Z,{color:p,items:u})})):null}},523657:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),o=i(883119),a=i(785893);const s=(e,t,i)=>{const o=(0,n.useRef)(null),a=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(e!==o.current||i&&i!==a.current){o.current=e;const i=(n=e,document.querySelector(`img[src="${n}"]`)||null);null!=i&&i.complete&&t()}var n;a.current=i}),[e,t,i])};function r({alt:e,children:t,color:i,elementTiming:n,isActive:r=!1,naturalHeight:l,naturalWidth:d,onLoad:c,src:_}){return s(_,c,r),(0,a.jsx)(o.Ee,{alt:e,color:i,elementTiming:n,naturalHeight:l,naturalWidth:d,onLoad:c,src:_,children:t})}},47168:(e,t,i)=>{i.d(t,{T:()=>s,g:()=>r});var n=i(584992);const{Provider:o,useHook:a}=(0,n.Z)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),s=o,r=a},681227:(e,t,i)=>{function n(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,i)=>e[i]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function a(e,t){const{videos:i,is_downstream_promotion:n,is_promoted:o,story_pin_data_id:a,board:s}=e;return!(o||n||(!i||!i.id)&&!a||t||null!=s&&s.is_collaborative&&s.collaborated_by_me)}i.d(t,{At:()=>n,J6:()=>a,Ud:()=>o})},561195:(e,t,i)=>{i.d(t,{A:()=>l,Z:()=>d});var n=i(667294),o=i(498913),a=i.n(o),s=i(883119),r=i(785893);const l=({fill:e,width:t,color:i})=>{const o="half"===e?(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(s.xu,{position:"absolute",children:(0,r.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,r.jsx)(s.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,r.jsx)(s.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:t,width:i,color:o}){const s=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),_=d-c;return a()(c,(e=>s.push((0,r.jsx)(l,{color:o,fill:"full",width:i},e)))),_>=.75?s.push((0,r.jsx)(l,{color:o,fill:"full",width:i},s.length)):_>=.25&&s.push((0,r.jsx)(l,{color:o,fill:"half",width:i},s.length)),a()(5-s.length,(()=>s.push((0,r.jsx)(l,{color:o,fill:"empty",width:i},s.length)))),(0,r.jsx)(n.Fragment,{children:s})}},736688:(e,t,i)=>{i.d(t,{V:()=>n});const n=e=>{const{thumbnail:t,url:i,width:n,height:o,duration:a}=e||{};return t&&i&&n&&o&&{thumbnail:t,url:i,width:n,height:o,duration:a}||void 0}},124364:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),o=i(883119),a=i(785893);function s({height:e,isDenseView:t,rounding:i,width:s}){const r=(0,n.ZP)();return(0,a.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:i,overflow:"hidden",width:s,height:e,"data-test-id":"unavailable-pin",children:(0,a.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,a.jsx)(o.xu,{paddingY:t?2:4,children:(0,a.jsx)(o.JO,{accessibilityLabel:r._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(o.xv,{weight:"bold",children:r._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.xv,{children:r._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},488789:(e,t,i)=>{i.d(t,{c:()=>r,o:()=>s});var n=i(667294),o=i(785893);const a=(0,n.createContext)(null);function s({children:e,closeupPaneWidth:t,headerHeight:i,ideaPinSessionId:n,isLandingPage:s,loadFonts:r,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:_,productPins:u,setIdeaPinSessionId:p}){const h={closeupPaneWidth:t,headerHeight:i,ideaPinSessionId:n,isLandingPage:s,loadFonts:r,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:_,productPins:u,setIdeaPinSessionId:p};return(0,o.jsx)(a.Provider,{value:h,children:e})}const r=()=>(0,n.useContext)(a)},224496:(e,t,i)=>{i.d(t,{Cc:()=>d,RR:()=>n,YB:()=>o,YL:()=>s,h8:()=>l,pE:()=>r,yR:()=>a});const n="0.8.0",o=9/16,a=8,s=10;function r(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const l={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},d={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},775151:(e,t,i)=>{i.d(t,{BN:()=>s,RK:()=>a,d3:()=>l,xm:()=>r});var n=i(224496);const o=(e,t)=>{const i=(0,n.pE)(e,t);return`${i.y}px ${i.x}px`},a=({alignment:e,verticalAlignment:t})=>{const i={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?i.alignItems="center":2===t&&(i.alignItems="flex-end"),1===e&&(i.justifyContent="center",i.textAlign="center"),i},s=({fontSize:e,hexColor:t,highlightColor:i,letterSpacing:n,lineHeight:a,name:s})=>({fontSize:e,letterSpacing:n,color:t,fontFamily:s,margin:0,maxHeight:"100%",textShadow:!i&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...i?{backgroundColor:i,borderRadius:e/5,padding:o(e,a)}:{}}),r=({fontSize:e,hasText:t,highlightColor:i,lineHeight:n})=>({...i?{backgroundColor:t?i:void 0,borderRadius:e/5,padding:o(e,n)}:{}}),l=({letterSpacing:e,lineHeight:t,name:i,url:n})=>({fontFamily:i,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:n}]})},927104:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},883561:(e,t,i)=>{i.d(t,{ZP:()=>n});function n(e,t=80,i="…",n=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)o=e.substring(0,t);else{const i=e.lastIndexOf(" ",t);o=e.substring(0,i)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+i}},948618:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),o=i(785893);function a({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(n.xv,{color:t,inline:!0,size:null!=i?i:"md",children:"·"})})}},939106:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(948618),a=i(883119),s=i(785893);function r(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:i,items:l}){const d=e?(0,s.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,s.jsx)(o.Z,{color:t})}):(0,s.jsx)(o.Z,{color:t}),c=l.filter(r).reduce(((e,t,i)=>[...e,0!==i?d:null,t]),[]).filter(r).map(((e,t)=>(0,s.jsx)(n.Fragment,{children:e},t)));return 0===c.length?null:i?(0,s.jsx)(a.xu,{children:c}):(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},428258:(e,t,i)=>{i.d(t,{Z:()=>a,t:()=>o});const n=()=>{var e,t;const i="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let n,o=null===(a=window)||void 0===a||!a.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var a;return i?"4g"===i?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:i}=n(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[t][i]||e.V_720P||void 0}function a(e){const{video_list:t={}}=e,i=o(t),n=t.V_HLSV3_MOBILE||void 0;return i?{hlsv3:n,mp4:i}:{hlsv3:n}}},229428:(e,t,i)=>{function n(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}i.d(t,{k:()=>n,m:()=>o})},869899:(e,t,i)=>{i.r(t),i.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>P});var n=i(667294),o=i(389643),a=i(784590),s=i(19121),r=i(217468),l=i(425288),d=i(70061);const c=e=>{const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,d.Z)(i)]=e[i]:t[(0,d.Z)(i)]=c(e[i]));return t},_=(e,t)=>{const i=[];for(const a in e)a!==t&&i.push({id:a,...c(e[a])});const n=i.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),o=new Map;for(const a of n)o.set(a.id,a);return o};var u=i(622096);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},E=e=>{const[t,i]=(0,n.useReducer)(h,p),o=(({dispatch:e,isEnabled:t,state:i})=>{const{orbacVisibility:o,disableProfileChanger:a,headerVisible:s}=i;return{changeProfile:(0,n.useCallback)((i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})}),[t,e]),toggleORBACVisibility:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=i?i:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=i?i:!a})}),[t,e,a]),toggleHeaderVisibility:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=i?i:!s})}),[t,e,s])}})({dispatch:i,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:s}=t;(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacVisibility",s)}),[s]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",a)}),[a]);return{state:t,actions:o,receiveProfiles:(0,n.useCallback)(((e,t)=>{i({type:"LOAD_PROFILES",payload:_(e,t)})}),[i])}};var m=i(785893);const{Provider:I,useMaybeHook:P}=(0,l.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const t=(0,r.tc)("web_m10n_business_access_orbac_www"),i=(0,s.Z)(),l=Boolean(i.isAuth&&i.isPartner&&t().anyEnabled),{state:d,actions:c,receiveProfiles:_}=E(l),{activeProfile:u,headerVisible:p,profiles:h=[]}=d,P=h?Array.from(h.values()):[],f=(0,o.Z)(P),T=!!(i.isAuth&&P.length>0)&&f,g=i.isAuth?i.id:"",A=i.isAuth?i.username:"",{changeProfile:y,toggleORBACVisibility:S,toggleDisableProfileChanger:v,toggleHeaderVisibility:x}=c;(0,n.useEffect)((()=>{l&&("string"!=typeof f?u||y(g):y(f))}),[f,g,l,y,u]),(0,n.useEffect)((()=>{l&&(T&&!p&&x(!0),!T&&p&&x(!1))}),[x,T,l,p,h]);const{data:R}=(0,a.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),b=null==R?void 0:R.profiles;let O;i&&i.isAuth&&d.activeProfile===i.id?O={id:i.id,permissions:["OWNER"],user:{username:A,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:u&&d.profiles&&(O=d.profiles.get(u)),(0,n.useEffect)((()=>{b&&_(b,g)}),[_,b,g]);const N=d.profiles?Array.from(d.profiles.values()):[];return(0,m.jsx)(I,{value:{profiles:N,headerVisible:d.headerVisible,activeProfile:O,changeProfile:y,toggleORBACVisibility:S,toggleDisableProfileChanger:v,toggleHeaderVisibility:x},children:e})}},717615:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(217468),o=i(869899);const a=()=>{const e=(0,n.tc)("web_m10n_business_access_orbac_www"),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:i}=t||{};return e().anyEnabled&&i||Object.freeze({})}},389643:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(966338),o=i(19121),a=i(217468),s=i(53987),r=i(925927);const l=e=>{var t;const i=(0,r.TH)(),l=(0,o.Z)(),{anyEnabled:d}=(0,a.tc)("web_m10n_business_access_orbac_beta_2")(),c=(0,r.$B)("/:username"),_=null==c||null===(t=c.params)||void 0===t?void 0:t.username,u=(0,r.$B)("/pin/:id"),p=(0,n.useSelector)((e=>{var t,i,n,o;return!(null==u||null===(t=u.params)||void 0===t||!t.id)&&(null==e||null===(i=e.pins)||void 0===i||null===(n=i[u.params.id])||void 0===n||null===(o=n.pinner)||void 0===o?void 0:o.id)}));if((0,s.ej)(i))return!1;if((0,s.RU)(i))return!0;if((0,s.mY)(i))return d;const h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:t={},id:i}=e||{},{username:n}=t;return!!(n&&_||p&&i)&&(n===_||p===i)}));return!!h&&h.id}},231947:(e,t,i)=>{i.d(t,{D3:()=>d,DX:()=>r,KY:()=>c,Ms:()=>n,N1:()=>_,_P:()=>s,lJ:()=>a,nl:()=>o,q6:()=>l});const n=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},o=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,i)=>{var n;return i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},r=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),d=(e,t,i)=>!!(l(e,t,i)||e&&e.isAuth&&t===e.id),c=(e,t,i)=>{const n=t&&t.owner&&t.owner.id||"";return d(e,n,i)};function _(e,t,i){const n=t?t.id:"";return d(e,n,i)}},854035:(e,t,i)=>{i.d(t,{Z:()=>E});var n=i(67828),o=i(941646),a=i(898781),s=i(892819),r=i(349700),l=i(217468),d=i(780280),c=i(561195),_=i(883119),u=i(785893);const p=({rating:e,textSize:t,type:i})=>{if("single"===i){const i=parseFloat(e);return Number.isNaN(i)?null:(0,u.jsxs)(_.kC,{alignItems:"center",children:[(0,u.jsx)(c.A,{fill:"full",width:12}),(0,u.jsx)(_.xv,{size:t,children:i.toFixed(1)})]})}return(0,u.jsx)(c.Z,{rating:e,width:12})},h=({bracket:e,count:t,countFormat:i,marginStart:n,textSize:l})=>{const{locale:c}=(0,d.B)(),p=(0,a.ZP)(),h=(0,s.Z)();if(null==t)return null;let E="text"===i?(0,r.nk)(p.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count'),{count:t}).join(""):h(c,t,{shortform:!0,shortform_maximum_fraction_digits:1});return e&&(E=`(${E})`),(0,u.jsx)(_.xu,{marginStart:n,children:(0,u.jsx)(_.xv,{size:l,children:(0,u.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:E})})})};function E({count:e,countFormat:t,rating:i,textSize:o}){const a=(0,n.Z)({count:e,rating:i}),s=(0,l.tc)("web_pdp_star_rating"),r=(0,l.tc)("mweb_pdp_star_rating"),d=a&&s().anyEnabled,c=a&&r().anyEnabled,E=d||c;return a?(0,u.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:i,textSize:o,type:E?"single":"multiple"}),(0,u.jsx)(h,{bracket:E,count:e,countFormat:t,marginStart:E?1:void 0,textSize:o})]}):null}},67828:(e,t,i)=>{function n({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}i.d(t,{Z:()=>n})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/48719-5b1d19ebb71be8a6.mjs.map